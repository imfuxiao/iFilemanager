(function(){var e={6371:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("router-view")],1)},o=[];s.p="/";var n={name:"app",mounted(){const e=document.getElementById("loading");e.classList.add("done"),setTimeout((function(){e.parentNode.removeChild(e)}),200)}},r=n,a=s(1001),l=(0,a.Z)(r,i,o,!1,null,null,null),c=l.exports,u=s(7195),d=s(5730),h=JSON.parse('{"buttons":{"cancel":"Cancel","close":"Close","copy":"Copy","copyFile":"Copy file","copyToClipboard":"Copy to clipboard","create":"Create","delete":"Delete","download":"Download","file":"File","folder":"Folder","hideDotfiles":"Hide dotfiles","info":"Info","more":"More","move":"Move","moveFile":"Move file","new":"New","next":"Next","ok":"OK","permalink":"Get Permanent Link","previous":"Previous","publish":"Publish","rename":"Rename","replace":"Replace","reportIssue":"Report Issue","save":"Save","schedule":"Schedule","search":"Search","select":"Select","selectMultiple":"Select multiple","share":"Share","shell":"Toggle shell","submit":"Submit","switchView":"Switch view","toggleSidebar":"Toggle sidebar","update":"Update","upload":"Upload","openFile":"Open file"},"download":{"downloadFile":"Download File","downloadFolder":"Download Folder","downloadSelected":"Download Selected"},"errors":{"forbidden":"You don\'t have permissions to access this.","internal":"Something really went wrong.","notFound":"This location can\'t be reached.","connection":"The server can\'t be reached."},"files":{"body":"Body","clear":"Clear","closePreview":"Close preview","files":"Files","folders":"Folders","home":"Home","lastModified":"Last modified","loading":"Loading...","lonely":"It feels lonely here...","metadata":"Metadata","multipleSelectionEnabled":"Multiple selection enabled","name":"Name","size":"Size","sortByLastModified":"Sort by last modified","sortByName":"Sort by name","sortBySize":"Sort by size","noPreview":"Preview is not available for this file."},"help":{"click":"select file or directory","ctrl":{"click":"select multiple files or directories","f":"opens search","s":"save a file or download the directory where you are"},"del":"delete selected items","doubleClick":"open a file or directory","esc":"clear selection and/or close the prompt","f1":"this information","f2":"rename file","help":"Help"},"languages":{"he":"עברית","ar":"العربية","de":"Deutsch","en":"English","es":"Español","fr":"Français","is":"Icelandic","it":"Italiano","ja":"日本語","ko":"한국어","nlBE":"Dutch (Belgium)","pl":"Polski","pt":"Português","ptBR":"Português (Brasil)","ro":"Romanian","ru":"Русский","sk":"Slovenčina","svSE":"Swedish (Sweden)","tr":"Türkçe","ua":"Українська","zhCN":"中文 (简体)","zhTW":"中文 (繁體)"},"login":{"createAnAccount":"Create an account","loginInstead":"Already have an account","password":"Password","passwordConfirm":"Password Confirmation","passwordsDontMatch":"Passwords don\'t match","signup":"Signup","submit":"Login","username":"Username","usernameTaken":"Username already taken","wrongCredentials":"Wrong credentials"},"permanent":"Permanent","prompts":{"copy":"Copy","copyMessage":"Choose the place to copy your files:","currentlyNavigating":"Currently navigating on:","deleteMessageMultiple":"Are you sure you want to delete {count} file(s)?","deleteMessageSingle":"Are you sure you want to delete this file/folder?","deleteMessageShare":"Are you sure you want to delete this share({path})?","deleteTitle":"Delete files","displayName":"Display Name:","download":"Download files","downloadMessage":"Choose the format you want to download.","error":"Something went wrong","fileInfo":"File information","filesSelected":"{count} files selected.","lastModified":"Last Modified","move":"Move","moveMessage":"Choose new house for your file(s)/folder(s):","newArchetype":"Create a new post based on an archetype. Your file will be created on content folder.","newDir":"New directory","newDirMessage":"Write the name of the new directory.","newFile":"New file","newFileMessage":"Write the name of the new file.","numberDirs":"Number of directories","numberFiles":"Number of files","rename":"Rename","renameMessage":"Insert a new name for","replace":"Replace","replaceMessage":"One of the files you\'re trying to upload is conflicting because of its name. Do you wish to replace the existing one?\\n","schedule":"Schedule","scheduleMessage":"Pick a date and time to schedule the publication of this post.","show":"Show","size":"Size","upload":"Upload","uploadFiles":"Uploading {files} files...","uploadMessage":"Select an option to upload.","optionalPassword":"Optional password"},"search":{"images":"Images","music":"Music","pdf":"PDF","pressToSearch":"Press enter to search...","search":"Search...","typeToSearch":"Type to search...","types":"Types","video":"Video"},"settings":{"admin":"Admin","administrator":"Administrator","allowCommands":"Execute commands","allowEdit":"Edit, rename and delete files or directories","allowNew":"Create new files and directories","allowPublish":"Publish new posts and pages","allowSignup":"Allow users to signup","avoidChanges":"(leave blank to avoid changes)","branding":"Branding","brandingDirectoryPath":"Branding directory path","brandingHelp":"You can customize how your File Browser instance looks and feels by changing its name, replacing the logo, adding custom styles and even disable external links to GitHub.\\nFor more information about custom branding, please check out the {0}.","changePassword":"Change Password","commandRunner":"Command runner","commandRunnerHelp":"Here you can set commands that are executed in the named events. You must write one per line. The environment variables {0} and {1} will be available, being {0} relative to {1}. For more information about this feature and the available environment variables, please read the {2}.","commandsUpdated":"Commands updated!","createUserDir":"Auto create user home dir while adding new user","userHomeBasePath":"Base path for user home directories","userScopeGenerationPlaceholder":"The scope will be auto generated","createUserHomeDirectory":"Create user home directory","customStylesheet":"Custom Stylesheet","defaultUserDescription":"This are the default settings for new users.","disableExternalLinks":"Disable external links (except documentation)","documentation":"documentation","examples":"Examples","executeOnShell":"Execute on shell","executeOnShellDescription":"By default, File Browser executes the commands by calling their binaries directly. If you want to run them on a shell instead (such as Bash or PowerShell), you can define it here with the required arguments and flags. If set, the command you execute will be appended as an argument. This apply to both user commands and event hooks.","globalRules":"This is a global set of allow and disallow rules. They apply to every user. You can define specific rules on each user\'s settings to override this ones.","globalSettings":"Global Settings","hideDotfiles":"Hide dotfiles","insertPath":"Insert the path","insertRegex":"Insert regex expression","instanceName":"Instance name","language":"Language","lockPassword":"Prevent the user from changing the password","newPassword":"Your new password","newPasswordConfirm":"Confirm your new password","newUser":"New User","password":"Password","passwordUpdated":"Password updated!","path":"Path","perm":{"create":"Create files and directories","delete":"Delete files and directories","download":"Download","execute":"Execute commands","modify":"Edit files","rename":"Rename or move files and directories","share":"Share files"},"permissions":"Permissions","permissionsHelp":"You can set the user to be an administrator or choose the permissions individually. If you select \\"Administrator\\", all of the other options will be automatically checked. The management of users remains a privilege of an administrator.\\n","profileSettings":"Profile Settings","ruleExample1":"prevents the access to any dot file (such as .git, .gitignore) in every folder.\\n","ruleExample2":"blocks the access to the file named Caddyfile on the root of the scope.","rules":"Rules","rulesHelp":"Here you can define a set of allow and disallow rules for this specific user. The blocked files won\'t show up in the listings and they wont be accessible to the user. We support regex and paths relative to the users scope.\\n","scope":"Scope","setDateFormat":"Set exact date format","settingsUpdated":"Settings updated!","shareDuration":"Share Duration","shareManagement":"Share Management","shareDeleted":"Share deleted!","singleClick":"Use single clicks to open files and directories","themes":{"dark":"Dark","light":"Light","title":"Theme"},"user":"User","userCommands":"Commands","userCommandsHelp":"A space separated list with the available commands for this user. Example:\\n","userCreated":"User created!","userDefaults":"User default settings","userDeleted":"User deleted!","userManagement":"User Management","userUpdated":"User updated!","username":"Username","users":"Users"},"sidebar":{"help":"Help","hugoNew":"Hugo New","login":"Login","logout":"Logout","myFiles":"My files","newFile":"New file","newFolder":"New folder","preview":"Preview","settings":"Settings","signup":"Signup","siteSettings":"Site Settings"},"success":{"linkCopied":"Link copied!"},"time":{"days":"Days","hours":"Hours","minutes":"Minutes","seconds":"Seconds","unit":"Time Unit"}}'),m=JSON.parse('{"buttons":{"cancel":"取消","close":"关闭","copy":"复制","copyFile":"复制文件","copyToClipboard":"复制到剪贴板","create":"创建","delete":"删除","download":"下载","file":"文件","folder":"文件夹","hideDotfiles":"不显示隐藏文件","info":"信息","more":"更多","move":"移动","moveFile":"移动文件","new":"新建","next":"下一个","ok":"确定","permalink":"获取永久链接","previous":"上一个","publish":"发布","rename":"重命名","replace":"替换","reportIssue":"报告问题","save":"保存","schedule":"计划","search":"搜索","select":"选择","selectMultiple":"选择多个","share":"分享","shell":"激活 Shell","submit":"提交","switchView":"切换显示方式","toggleSidebar":"切换侧边栏","update":"更新","upload":"上传","openFile":"打开文件"},"download":{"downloadFile":"下载文件","downloadFolder":"下载文件夹","downloadSelected":"下载已选"},"errors":{"forbidden":"你无权限访问","internal":"服务器出了点问题。","notFound":"找不到文件。","connection":"无法连接到服务器。"},"files":{"body":"内容","clear":"清空","closePreview":"关闭预览","files":"文件","folders":"文件夹","home":"主页","lastModified":"最后修改","loading":"加载中...","lonely":"这里没有任何文件...","metadata":"元数据","multipleSelectionEnabled":"多选模式已开启","name":"名称","size":"大小","sortByLastModified":"按最后修改时间排序","sortByName":"按名称排序","sortBySize":"按大小排序","noPreview":"此文件无法预览。"},"help":{"click":"选择文件或目录","ctrl":{"click":"选择多个文件或目录","f":"打开搜索框","s":"保存文件或下载当前文件夹"},"del":"删除所选的文件/文件夹","doubleClick":"打开文件/文件夹","esc":"清除已选项或关闭提示信息","f1":"显示该帮助信息","f2":"重命名文件/文件夹","help":"帮助"},"languages":{"he":"עברית","ar":"العربية","de":"Deutsch","en":"English","es":"Español","fr":"Français","is":"Icelandic","it":"Italiano","ja":"日本語","ko":"한국어","nlBE":"Dutch（Belgium）","pl":"Polski","pt":"Português","ptBR":"Português（Brasil）","ro":"Romanian","ru":"Русский","sk":"Slovenčina","svSE":"Swedish（Sweden）","tr":"Türkçe","ua":"Українська","zhCN":"中文（简体）","zhTW":"中文（繁體）"},"login":{"createAnAccount":"创建用户","loginInstead":"已有用户登录","password":"密码","passwordConfirm":"确认密码","passwordsDontMatch":"密码不一致","signup":"注册","submit":"登录","username":"用户名","usernameTaken":"用户名已经被使用","wrongCredentials":"用户名或密码错误"},"permanent":"永久","prompts":{"copy":"复制","copyMessage":"请选择欲复制至的目录：","currentlyNavigating":"当前目录：","deleteMessageMultiple":"你确定要删除这 {count} 个文件吗？","deleteMessageSingle":"你确定要删除这个文件/文件夹吗？","deleteMessageShare":"你确定要删除这个分享（{path}）吗？","deleteTitle":"删除文件","displayName":"名称：","download":"下载文件","downloadMessage":"请选择要下载的压缩格式。","error":"出了一点问题...","fileInfo":"文件信息","filesSelected":"已选择 {count} 个文件。","lastModified":"最后修改","move":"移动","moveMessage":"请选择欲移动至的目录：","newArchetype":"创建一个基于原型的新帖子。您的文件将会创建在内容文件夹中。","newDir":"新建目录","newDirMessage":"请输入新目录的名称。","newFile":"新建文件","newFileMessage":"请输入新文件的名称。","numberDirs":"目录数","numberFiles":"文件数","rename":"重命名","renameMessage":"请输入新名称，旧名称为：","replace":"替换","replaceMessage":"您尝试上传的文件中有一个与现有文件的名称存在冲突。是否替换现有的同名文件？\\n","schedule":"计划","scheduleMessage":"请选择发布这篇帖子的日期与时间。","show":"点击以显示","size":"大小","upload":"上传","uploadMessage":"选择上传选项。","optionalPassword":"密码（选填，不填即无密码）"},"search":{"images":"图像","music":"音乐","pdf":"PDF","pressToSearch":"输入回车以搜索...","search":"搜索...","typeToSearch":"输入以搜索...","types":"类型","video":"视频"},"settings":{"admin":"管理员","administrator":"管理员","allowCommands":"执行命令（Shell 命令）","allowEdit":"编辑、重命名或删除文件/目录","allowNew":"创建新文件和目录","allowPublish":"发布新的帖子与页面","allowSignup":"允许用户注册","avoidChanges":"（留空以避免更改）","branding":"品牌","brandingDirectoryPath":"品牌信息文件夹路径","brandingHelp":"您可以通过改变实例名称，更换 Logo，加入自定义样式，甚至禁用到 Github 的外部链接来自定义 File Browser 的外观和感觉。\\n想获得更多信息，请查看 {0}。","changePassword":"更改密码","commandRunner":"命令执行器","commandRunnerHelp":"你可以在此设置在下列事件中执行的命令。每行必须写一条命令。可以在命令中使用环境变量 {0} 和 {1}，使 {0} 与 {1} 相关联。关于此功能和可用环境变量的更多信息，请阅读 {2}。","commandsUpdated":"命令已更新！","createUserDir":"在添加新用户的同时自动创建用户的个人目录","customStylesheet":"自定义样式表（CSS）","defaultUserDescription":"这些是新用户的默认设置。","disableExternalLinks":"禁止外部链接（帮助文档除外）","documentation":"帮助文档","examples":"例子","executeOnShell":"在 Shell 中执行","executeOnShellDescription":"默认情况下，File Browser 通过直接调用命令的二进制包来执行命令，如果想在 Shell中 执行（如 Bash 或 PowerShell），你可以在这里定义所使用的 Shell 和参数。设置后，您所执行的命令会作为参数追加。本设置对用户命令和事件钩子都生效。","globalRules":"这是全局允许与禁止规则。它们作用于所有用户。您可以给每个用户定义单独的特殊规则来覆盖全局规则。","globalSettings":"全局设置","hideDotfiles":"不显示隐藏文件","insertPath":"插入路径","insertRegex":"插入正则表达式","instanceName":"实例名称","language":"语言","lockPassword":"禁止用户修改密码","newPassword":"您的新密码","newPasswordConfirm":"再次输入以确认您的新密码","newUser":"新建用户","password":"密码","passwordUpdated":"密码已更新！","path":"路径","perm":{"create":"创建文件和文件夹","delete":"删除文件和文件夹","download":"下载","execute":"执行命令","modify":"编辑","rename":"重命名或移动文件和文件夹","share":"分享文件"},"permissions":"权限","permissionsHelp":"您可以将该用户设置为管理员或单独选择各项权限。如果您选择了“管理员”，则其他的选项会被自动选中，同时该用户可以管理其他用户。\\n","profileSettings":"个人设置","ruleExample1":"阻止用户访问所有文件夹下任何以 . 开头的文件（隐藏文件, 例如: .git, .gitignore）。\\n","ruleExample2":"阻止用户访问其目录范围的根目录下名为 Caddyfile 的文件。","rules":"规则","rulesHelp":"您可以为该用户制定一组黑名单或白名单式的规则，被屏蔽的文件将不会显示在列表中，用户也无权限访问，支持正则表达式和相对于用户范围的路径。\\n","scope":"目录范围","setDateFormat":"显示精确的日期格式","settingsUpdated":"设置已更新！","shareDuration":"分享期限","shareManagement":"分享管理","shareDeleted":"分享已删除！","singleClick":"使用单击来打开文件和目录","themes":{"dark":"深色","light":"浅色","title":"主题"},"user":"用户","userCommands":"用户命令（Shell 命令）","userCommandsHelp":"指定该用户可以执行的命令（Shell 命令），用空格分隔。例如：\\n","userCreated":"用户已创建！","userDefaults":"用户默认设置","userDeleted":"用户已删除！","userManagement":"用户管理","userUpdated":"用户已更新！","username":"用户名","users":"用户"},"sidebar":{"help":"帮助","hugoNew":"Hugo 新建","login":"登录","logout":"登出","myFiles":"我的文件","newFile":"新建文件","newFolder":"新建文件夹","preview":"预览","settings":"设置","signup":"注册","siteSettings":"网站设置"},"success":{"linkCopied":"链接已复制！"},"time":{"days":"天","hours":"小时","minutes":"分钟","seconds":"秒","unit":"时间单位"}}'),p=JSON.parse('{"buttons":{"cancel":"取消","close":"關閉","copy":"複製","copyFile":"複製檔案","copyToClipboard":"複製到剪貼簿","create":"建立","delete":"刪除","download":"下載","hideDotfiles":"","info":"資訊","more":"更多","move":"移動","moveFile":"移動檔案","new":"新","next":"下一個","ok":"確認","permalink":"獲取永久連結","previous":"上一個","publish":"發佈","rename":"重新命名","replace":"更換","reportIssue":"報告問題","save":"儲存","schedule":"計畫","search":"搜尋","select":"選擇","selectMultiple":"選擇多個","share":"分享","shell":"切換 shell","switchView":"切換顯示方式","toggleSidebar":"切換側邊欄","update":"更新","upload":"上傳"},"download":{"downloadFile":"下載檔案","downloadFolder":"下載資料夾","downloadSelected":""},"errors":{"forbidden":"您無權訪問。","internal":"伺服器出了點問題。","notFound":"找不到檔案。"},"files":{"body":"内容","clear":"清空","closePreview":"關閉預覽","files":"檔案","folders":"資料夾","home":"主頁","lastModified":"最後修改","loading":"讀取中...","lonely":"這裡沒有任何檔案...","metadata":"詮釋資料","multipleSelectionEnabled":"多選模式已開啟","name":"名稱","size":"大小","sortByLastModified":"按最後修改時間排序","sortByName":"按名稱排序","sortBySize":"按大小排序"},"help":{"click":"選擇檔案或目錄","ctrl":{"click":"選擇多個檔案或目錄","f":"打開搜尋列","s":"儲存檔案或下載目前資料夾"},"del":"刪除所選的檔案/資料夾","doubleClick":"打開檔案/資料夾","esc":"清除已選項或關閉提示資訊","f1":"顯示該幫助資訊","f2":"重新命名檔案/資料夾","help":"幫助"},"languages":{"he":"עברית","ar":"العربية","de":"Deutsch","en":"English","es":"Español","fr":"Français","is":"Icelandic","it":"Italiano","ja":"日本語","ko":"한국어","nlBE":"Dutch（Belgium）","pl":"Polski","pt":"Português","ptBR":"Português (Brasil)","ro":"Romanian","ru":"Русский","sk":"Slovenčina","svSE":"Swedish（Sweden）","tr":"Türkçe","ua":"Українська","zhCN":"中文 (简体)","zhTW":"中文 (繁體)"},"login":{"createAnAccount":"新建賬戶","loginInstead":"已有賬戶登錄","password":"密碼","passwordConfirm":"確認密碼","passwordsDontMatch":"密碼不匹配","signup":"註冊","submit":"登入","username":"帳號","usernameTaken":"用戶名已存在","wrongCredentials":"帳號或密碼錯誤"},"permanent":"永久","prompts":{"copy":"複製","copyMessage":"請選擇欲複製至的目錄：","currentlyNavigating":"目前目錄：","deleteMessageMultiple":"你確定要刪除這 {count} 個檔案嗎?","deleteMessageSingle":"你確定要刪除這個檔案/資料夾嗎?","deleteTitle":"刪除檔案","displayName":"名稱：","download":"下載檔案","downloadMessage":"請選擇要下載的壓縮格式。","error":"發出了一點錯誤...","fileInfo":"檔案資訊","filesSelected":"已選擇 {count} 個檔案。","lastModified":"最後修改","move":"移動","moveMessage":"請選擇欲移動至的目錄：","newArchetype":"建立一個基於原型的新貼文。您的檔案將會建立在內容資料夾中。","newDir":"建立目錄","newDirMessage":"請輸入新目錄的名稱。","newFile":"建立檔案","newFileMessage":"請輸入新檔案的名稱。","numberDirs":"目錄數","numberFiles":"檔案數","rename":"重新命名","renameMessage":"請輸入新名稱，舊名稱為：","replace":"替換","replaceMessage":"您嘗試上傳的檔案中有一個與現有檔案的名稱存在衝突。是否取代現有的同名檔案？","schedule":"計畫","scheduleMessage":"請選擇發佈這篇貼文的日期。","show":"顯示","size":"大小","upload":"上傳","uploadMessage":"選擇上傳項。"},"search":{"images":"影像","music":"音樂","pdf":"PDF","pressToSearch":"按確認鍵搜尋...","search":"搜尋...","typeToSearch":"輸入以搜尋...","types":"類型","video":"影片"},"settings":{"admin":"管理員","administrator":"管理員","allowCommands":"執行命令","allowEdit":"編輯、重命名或刪除檔案/目錄","allowNew":"創建新檔案和目錄","allowPublish":"發佈新的貼文與頁面","allowSignup":"允許使用者註冊","avoidChanges":"(留空以避免更改)","branding":"品牌","brandingDirectoryPath":"品牌資訊資料夾路徑","brandingHelp":"您可以通過改變例項名稱，更換Logo，加入自定義樣式，甚至禁用到Github的外部連結來自定義File Browser的外觀和給人的感覺。\\n想獲得更多資訊，請檢視 {0} 。","changePassword":"更改密碼","commandRunner":"命令執行器","commandRunnerHelp":"在這裡你可以設定在下面的事件中執行的命令。每行必須寫一條命令。可以在命令中使用環境變數 {0} 和 {1}。關於此功能和可用環境變數的更多資訊，請閱讀{2}.","commandsUpdated":"命令已更新！","createUserDir":"在新增新使用者的同時自動建立使用者的個人目錄","customStylesheet":"自定義樣式表","defaultUserDescription":"這些是新使用者的預設設定。","disableExternalLinks":"禁止外部連結（幫助文件除外）","documentation":"幫助文件","examples":"範例","executeOnShell":"在Shell中執行","executeOnShellDescription":"預設情況下，File Browser通過直接呼叫命令的二進位制包來執行命令，如果想在shell中執行（如Bash、PowerShell），你可以在這裡定義所使用的shell和參數。如果設定了這個選項，所執行的命令會作為參數追加在後面。本選項對使用者命令和事件鉤子都生效。","globalRules":"這是全局允許與禁止規則。它們作用於所有使用者。您可以給每個使用者定義單獨的特殊規則來覆蓋全局規則。","globalSettings":"全域設定","hideDotfiles":"","insertPath":"插入路徑","insertRegex":"插入正規表示式","instanceName":"例項名稱","language":"語言","lockPassword":"禁止使用者修改密碼","newPassword":"您的新密碼","newPasswordConfirm":"重輸一遍新密碼","newUser":"建立使用者","password":"密碼","passwordUpdated":"密碼已更新！","path":"","perm":{"create":"建立檔案和資料夾","delete":"刪除檔案和資料夾","download":"下載","execute":"執行命令","modify":"編輯檔案","rename":"重命名或移動檔案/資料夾","share":"分享檔案"},"permissions":"權限","permissionsHelp":"您可以將該使用者設置為管理員，也可以單獨選擇各項權限。如果選擇了“管理員”，則其他的選項會被自動勾上，同時該使用者可以管理其他使用者。","profileSettings":"個人設定","ruleExample1":"封鎖使用者存取所有資料夾下任何以 . 開頭的檔案(隱藏文件, 例如: .git, .gitignore)。","ruleExample2":"封鎖使用者存取其目錄範圍的根目錄下名為 Caddyfile 的檔案。","rules":"規則","rulesHelp":"您可以為該使用者製定一組黑名單或白名單式的規則，被屏蔽的檔案將不會顯示在清單中，使用者也無權限存取,支持相對於目錄範圍的路徑。","scope":"目錄範圍","settingsUpdated":"設定已更新！","shareDuration":"","shareManagement":"","singleClick":"","themes":{"dark":"深色","light":"淺色","title":"主題"},"user":"使用者","userCommands":"使用者命令","userCommandsHelp":"指定該使用者可以執行的命令，用空格分隔。例如：","userCreated":"使用者已建立！","userDefaults":"使用者預設選項","userDeleted":"使用者已刪除！","userManagement":"使用者管理","userUpdated":"使用者已更新！","username":"使用者名稱","users":"使用者"},"sidebar":{"help":"幫助","hugoNew":"Hugo New","login":"登入","logout":"登出","myFiles":"我的檔案","newFile":"建立檔案","newFolder":"建立資料夾","preview":"預覽","settings":"設定","signup":"註冊","siteSettings":"網站設定"},"success":{"linkCopied":"連結已複製！"},"time":{"days":"天","hours":"小時","minutes":"分鐘","seconds":"秒","unit":"時間單位"}}');function f(){let e=(navigator.language||navigator.browserLangugae).toLowerCase();switch(!0){case/^en.*/i.test(e):e="en";break;case/^zh-CN/i.test(e):e="zh-cn";break;case/^zh-TW/i.test(e):e="zh-tw";break;case/^zh.*/i.test(e):e="zh-cn";break;default:e="en"}return e}u.ZP.use(d.Z);const v=e=>Object.keys(e).filter((t=>null!==e[t]&&void 0!==e[t]&&""!==e[t])).reduce(((t,s)=>"object"===typeof e[s]?Object.assign(t,{[s]:v(e[s])}):Object.assign(t,{[s]:e[s]})),{}),w=["he","ar"],g=new d.Z({locale:f(),fallbackLocale:"en",messages:{en:h,"zh-cn":v(m),"zh-tw":v(p)}});var b=g,y=s(408);s(7658);const _={isLogged:()=>!0,isFiles:e=>!e.loading&&"Files"===e.route.name,isListing:(e,t)=>t.isFiles&&e.req.isDir,selectedCount:e=>e.selected.length,progress:e=>{if(0==e.upload.progress.length)return 0;let t=e.upload.sizes.reduce(((e,t)=>e+t),0),s=e.upload.progress.reduce(((e,t)=>e+t));return Math.ceil(s/t*100)},filesInUploadCount:e=>{let t=Object.keys(e.upload.uploads).length+e.upload.queue.length;return t},filesInUpload:e=>{let t=[];for(let s in e.upload.uploads){let i=e.upload.uploads[s],o=i.id,n=i.type,r=i.file.name,a=e.upload.sizes[o],l=i.file.isDir,c=l?100:Math.ceil(e.upload.progress[o]/a*100);t.push({id:o,name:r,progress:c,type:n,isDir:l})}return t.sort(((e,t)=>e.progress-t.progress))}};var $=_;const C="File Browser",k=!0,S="",j=!1,x="",D=!1,L="",E="/img/logo.svg",M=!0,P="",H=!1,F=!1;window.location.origin;var T=s(3426);function z(e){const t=e.split(".");if(3!==t.length)throw new Error("token malformed");const s=JSON.parse(T.Base64.decode(t[1]));document.cookie=`auth=${e}; path=/`,localStorage.setItem("jwt",e),De.commit("setJWT",e),De.commit("setUser",s.user)}async function q(e,t,s){const i={username:e,password:t,recaptcha:s},o=await fetch(`${S}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),n=await o.text();if(200!==o.status)throw new Error(n);z(n)}async function R(e){const t=await fetch(`${S}/api/renew`,{method:"POST",headers:{"X-Auth":e}}),s=await t.text();if(200!==t.status)throw new Error(s);z(s)}async function I(e,t){const s={username:e,password:t},i=await fetch(`${S}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(200!==i.status)throw new Error(i.status)}function U(){document.cookie="auth=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/",De.commit("setJWT",""),De.commit("setUser",null),localStorage.setItem("jwt",null),Ri.push({path:"/login"})}function N(e){var t=e.split("/");return""===t.pop()&&t.pop(),t.join("/")}function O(e){return encodeURIComponent(e).replace(/['()]/g,escape).replace(/\*/g,"%2A").replace(/%(?:7C|60|5E)/g,unescape)}function B(e){return e.split("/").map((e=>encodeURIComponent(e))).join("/")}var Z={encodeRFC5987ValueChars:O,removeLastDir:N,encodePath:B};async function W(e,t,s=!0){t=t||{},t.headers=t.headers||{};let i,{headers:o,...n}=t;try{i=await fetch(`${S}${e}`,{headers:{"X-Auth":De.state.jwt,...o},...n})}catch{const e=new Error("000 No connection");throw e.status=0,e}if(s&&"true"===i.headers.get("X-Renew-Token")&&await R(De.state.jwt),i.status<200||i.status>299){const e=new Error(await i.text());throw e.status=i.status,s&&401==i.status&&U(),e}return i}async function A(e,t){const s=await W(e,t);if(200===s.status)return s.json();throw new Error(s.status)}function J(e){return e=e.split("/").splice(2).join("/"),""===e&&(e="/"),"/"!==e[0]&&(e="/"+e),e}function G(e,t={},s=!0){let i=S;const o=new URL(i+B(e),origin),n={...s&&{auth:De.state.jwt},...t};for(const r in n)o.searchParams.set(r,n[r]);return o.toString()}async function V(e){e=J(e);const t=await W(`/api/resources${e}`,{});let s=await t.json();return s.url=`/files${e}`,s.isDir&&(s.url.endsWith("/")||(s.url+="/"),s.items=s.items.map(((e,t)=>(e.index=t,e.url=`${s.url}${encodeURIComponent(e.name)}`,e.isDir&&(e.url+="/"),e)))),s}async function Y(e,t,s){e=J(e);let i={method:t};s&&(i.body=s);const o=await W(`/api/resources${e}`,i);return o}async function K(e){return Y(e,"DELETE")}function X(e,...t){let s="/api/raw";if(1===t.length)s+=J(t[0])+"?";else{let e="";for(let s of t)e+=J(s)+",";e=e.substring(0,e.length-1),e=encodeURIComponent(e),s+=`/?files=${e}&`}e&&(s+=`algo=${e}&`),window.open(s)}async function Q(e,t="",s=!1,i){let o;return e=J(e),t instanceof Blob&&!["http:","https:"].includes(window.location.protocol)&&(o=await new Response(t).arrayBuffer()),new Promise(((n,r)=>{let a=new XMLHttpRequest;a.open("POST",`${S}/api/resources${e}?override=${s}`,!0),a.setRequestHeader("X-Auth",De.state.jwt),"function"===typeof i&&(a.upload.onprogress=i),a.onload=()=>{200===a.status||204===a.status?n(a.responseText):409===a.status?r(a.status):r(a.responseText)},a.onerror=()=>{r(new Error("001 Connection aborted"))},a.send(o||t)}))}function ee(e,t=!1,s=!1,i=!1){let o=[];for(let n of e){const e=n.from,r=encodeURIComponent(J(n.to)),a=`${e}?action=${t?"copy":"rename"}&destination=${r}&override=${s}&rename=${i}`;o.push(Y(a,"PATCH"))}return Promise.all(o)}function te(e,t=!1,s=!1){return ee(e,!1,t,s)}function se(e,t=!1,s=!1){return ee(e,!0,t,s)}async function ie(e,t){const s=await Y(`${e}?checksum=${t}`,"GET");return(await s.json()).checksums[t]}function oe(e,t){const s={inline:"true",key:Date.parse(e.modified)};return G("api/preview/"+t+e.path,s)}async function ne(e){e=J(e);const t=await W(`/api/usage${e}`,{});return await t.json()}async function re(e){return e=J(e),A(`/api/share${e}`)}async function ae(e){await W(`/api/share/${e}`,{method:"DELETE"})}async function le(e,t="",s="",i="hours"){e=J(e),e=`/api/share${e}`,""!==s&&(e+=`?expires=${s}&unit=${i}`);let o="{}";return""==t&&""===s&&"hours"===i||(o=JSON.stringify({password:t,expires:s,unit:i})),A(e,{method:"POST",body:o})}function ce(e){return G("share/"+e.hash,{},!1)}async function ue(e,t=["all"]){await W(`/api/users/${e.id}`,{method:"PUT",body:JSON.stringify({what:"user",which:t,data:e})})}window.location.protocol;var de=s(2410),he=s.n(de);function me(e){let t=document.querySelector(`#${e}-button > i`);void 0!==t&&null!==t?"autorenew"!=t.innerHTML&&"done"!=t.innerHTML&&(t.dataset.icon=t.innerHTML,t.style.opacity=0,setTimeout((()=>{t.classList.add("spin"),t.innerHTML="autorenew",t.style.opacity=1}),100)):console.log("Error getting button "+e)}function pe(e){let t=document.querySelector(`#${e}-button > i`);void 0!==t&&null!==t?(t.style.opacity=0,setTimeout((()=>{t.classList.remove("spin"),t.innerHTML=t.dataset.icon,t.style.opacity=1}),100)):console.log("Error getting button "+e)}function fe(e){let t=document.querySelector(`#${e}-button > i`);void 0!==t&&null!==t?(t.style.opacity=0,setTimeout((()=>{t.classList.remove("spin"),t.innerHTML="done",t.style.opacity=1,setTimeout((()=>{t.style.opacity=0,setTimeout((()=>{t.innerHTML=t.dataset.icon,t.style.opacity=1}),100)}),500)}),100)):console.log("Error getting button "+e)}var ve={loading:me,done:pe,success:fe};const we=5,ge={id:0,sizes:[],progress:[],queue:[],uploads:{}},be={setProgress(e,{id:t,loaded:s}){u.ZP.set(e.progress,t,s)},reset:e=>{e.id=0,e.sizes=[],e.progress=[]},addJob:(e,t)=>{e.queue.push(t),e.sizes[e.id]=t.file.size,e.id++},moveJob(e){const t=e.queue[0];e.queue.shift(),u.ZP.set(e.uploads,t.id,t)},removeJob(e,t){u.ZP["delete"](e.uploads,t),delete e.uploads[t]}},ye=e=>{e.preventDefault(),e.returnValue=""},_e={upload:(e,t)=>{let s=Object.keys(e.state.uploads).length,i=0==e.state.queue.length,o=0==s;i&&o&&(window.addEventListener("beforeunload",ye),ve.loading("upload")),e.commit("addJob",t),e.dispatch("processUploads")},finishUpload:(e,t)=>{e.commit("setProgress",{id:t.id,loaded:t.file.size}),e.commit("removeJob",t.id),e.dispatch("processUploads")},processUploads:async e=>{let t=Object.keys(e.state.uploads).length,s=t<we,i=0==e.state.queue.length,o=0==t,n=i&&o,r=s&&!i;if(n&&(window.removeEventListener("beforeunload",ye),ve.success("upload"),e.commit("reset"),e.commit("setReload",!0,{root:!0})),r){const t=e.state.queue[0];if(e.commit("moveJob"),t.file.isDir)await Q(t.path).catch(u.ZP.prototype.$showError);else{let s=he()((s=>e.commit("setProgress",{id:t.id,loaded:s.loaded})),100,{leading:!0,trailing:!1});await Q(t.path,t.file,t.overwrite,s).catch(u.ZP.prototype.$showError)}e.dispatch("finishUpload",t)}}};var $e={state:ge,mutations:be,actions:_e,namespaced:!0},Ce=s(1602),ke=s.n(Ce);const Se={closeHovers:e=>{e.show=null,e.showConfirm=null},toggleShell:e=>{e.showShell=!e.showShell},showHover:(e,t)=>{"object"===typeof t?(e.show=t.prompt,e.showConfirm=t.confirm):e.show=t},showError:e=>{e.show="error"},showSuccess:e=>{e.show="success"},setLoading:(e,t)=>{e.loading=t},setReload:(e,t)=>{e.reload=t},setUser:(e,t)=>{if(null===t)return void(e.user=null);let s=t.locale;""===s&&(s=f()),ke().locale(s),b.locale=s,e.user=t},setJWT:(e,t)=>e.jwt=t,multiple:(e,t)=>e.multiple=t,addSelected:(e,t)=>e.selected.push(t),removeSelected:(e,t)=>{let s=e.selected.indexOf(t);-1!==s&&e.selected.splice(s,1)},resetSelected:e=>{e.selected=[]},updateUser:(e,t)=>{if("object"===typeof t)for(let s in t)"locale"===s&&(ke().locale(t[s]),b.locale=t[s]),e.user[s]=t[s]},updateRequest:(e,t)=>{e.oldReq=e.req,e.req=t},updateClipboard:(e,t)=>{e.clipboard.key=t.key,e.clipboard.items=t.items,e.clipboard.path=t.path},resetClipboard:e=>{e.clipboard.key="",e.clipboard.items=[]}};var je=Se;u.ZP.use(y.ZP);const xe={user:{id:1,locale:"zh-cn",viewMode:"list",singleClick:!1,perm:{admin:!0,execute:!0,create:!0,rename:!0,modify:!0,delete:!0,share:!0,download:!0},commands:[],lockPassword:!1,hideDotfiles:!1,dateFormat:!1},req:{},oldReq:{},clipboard:{key:"",items:[]},jwt:"",progress:0,loading:!1,reload:!1,selected:[],multiple:!1,show:null,showShell:!1,showConfirm:null};var De=new y.ZP.Store({strict:!0,state:xe,getters:$,mutations:je,modules:{upload:$e}}),Le=function(){var e=this,t=e._self._c;return t("div",[e.showHeader?t("header-bar",{attrs:{showMenu:"",showLogo:""}}):e._e(),t("h2",{staticClass:"message"},[t("i",{staticClass:"material-icons"},[e._v(e._s(e.info.icon))]),t("span",[e._v(e._s(e.$t(e.info.message)))])])],1)},Ee=[],Me=function(){var e=this,t=e._self._c;return t("header",[void 0!==e.showLogo?t("img",{attrs:{src:e.logoURL}}):e._e(),void 0!==e.showMenu?t("action",{staticClass:"menu-button",attrs:{icon:"menu",label:e.$t("buttons.toggleSidebar")},on:{action:function(t){return e.openSidebar()}}}):e._e(),e._t("default"),t("div",{class:{active:"more"===this.$store.state.show},attrs:{id:"dropdown"}},[e._t("actions")],2),this.$slots.actions?t("action",{attrs:{id:"more",icon:"more_vert",label:e.$t("buttons.more")},on:{action:function(t){return e.$store.commit("showHover","more")}}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"more"==this.$store.state.show,expression:"this.$store.state.show == 'more'"}],staticClass:"overlay",on:{click:function(t){return e.$store.commit("closeHovers")}}})],2)},Pe=[],He=function(){var e=this,t=e._self._c;return t("button",{staticClass:"action",attrs:{"aria-label":e.label,title:e.label},on:{click:e.action}},[t("i",{staticClass:"material-icons"},[e._v(e._s(e.icon))]),t("span",[e._v(e._s(e.label))]),e.counter>0?t("span",{staticClass:"counter"},[e._v(e._s(e.counter))]):e._e()])},Fe=[],Te={name:"action",props:["icon","label","counter","show"],methods:{action:function(){this.show&&this.$store.commit("showHover",this.show),this.$emit("action")}}},ze=Te,qe=(0,a.Z)(ze,He,Fe,!1,null,null,null),Re=qe.exports,Ie={name:"header-bar",props:["showLogo","showMenu"],components:{Action:Re},data:function(){return{logoURL:E}},methods:{openSidebar(){this.$store.commit("showHover","sidebar")}}},Ue=Ie,Ne=(0,a.Z)(Ue,Me,Pe,!1,null,null,null),Oe=Ne.exports;const Be={0:{icon:"cloud_off",message:"errors.connection"},403:{icon:"error",message:"errors.forbidden"},404:{icon:"gps_off",message:"errors.notFound"},500:{icon:"error_outline",message:"errors.internal"}};var Ze={name:"errors",components:{HeaderBar:Oe},props:["errorCode","showHeader"],computed:{info(){return Be[this.errorCode]?Be[this.errorCode]:Be[500]}}},We=Ze,Ae=(0,a.Z)(We,Le,Ee,!1,null,null,null),Je=Ae.exports,Ge=function(){var e=this,t=e._self._c;return t("div",[t("header-bar",{attrs:{showMenu:"",showLogo:""}}),t("breadcrumbs",{attrs:{base:"/files"}}),e.error?t("errors",{attrs:{errorCode:e.error.status}}):e.currentView?t(e.currentView,{tag:"component"}):t("div",[t("h2",{staticClass:"message delayed"},[t("div",{staticClass:"spinner"},[t("div",{staticClass:"bounce1"}),t("div",{staticClass:"bounce2"}),t("div",{staticClass:"bounce3"})]),t("span",[e._v(e._s(e.$t("files.loading")))])])])],1)},Ve=[],Ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"breadcrumbs"},[t(e.element,{tag:"component",attrs:{to:e.base||"","aria-label":e.$t("files.home"),title:e.$t("files.home")}},[t("i",{staticClass:"material-icons"},[e._v("home")])]),e._l(e.items,(function(s,i){return t("span",{key:i},[e._m(0,!0),t(e.element,{tag:"component",attrs:{to:s.url}},[e._v(e._s(s.name))])],1)}))],2)},Ke=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"chevron"},[t("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_right")])])}],Xe={name:"breadcrumbs",props:["base","noLink"],computed:{items(){const e=this.$route.path.replace(this.base,"");let t=e.split("/");""===t[0]&&t.shift(),""===t[t.length-1]&&t.pop();let s=[];for(let i=0;i<t.length;i++)0===i?s.push({name:decodeURIComponent(t[i]),url:this.base+"/"+t[i]+"/"}):s.push({name:decodeURIComponent(t[i]),url:s[i-1].url+t[i]+"/"});if(s.length>3){while(4!==s.length)s.shift();s[0].name="..."}return s},element(){return void 0!==this.noLink?"span":"router-link"}}},Qe=Xe,et=(0,a.Z)(Qe,Ye,Ke,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e._self._c;return t("div",[t("header-bar",{attrs:{showMenu:"",showLogo:""},scopedSlots:e._u([{key:"actions",fn:function(){return[e.isMobile?e._e():[e.headerButtons.delete?t("action",{attrs:{id:"delete-button",icon:"delete",label:e.$t("buttons.delete"),show:"delete"}}):e._e()],t("action",{attrs:{icon:e.viewIcon,label:e.$t("buttons.switchView")},on:{action:e.switchView}}),e.headerButtons.download?t("action",{attrs:{icon:"file_download",label:e.$t("buttons.download"),counter:e.selectedCount},on:{action:e.download}}):e._e(),e.headerButtons.upload?t("action",{attrs:{icon:"file_upload",id:"upload-button",label:e.$t("buttons.upload")},on:{action:e.upload}}):e._e()]},proxy:!0}])},[t("title"),t("action",{staticClass:"search-button",attrs:{icon:"search",label:e.$t("buttons.search")},on:{action:function(t){return e.openSearch()}}})],1),e.isMobile?t("div",{attrs:{id:"file-selection"}},[e.selectedCount>0?t("span",[e._v(e._s(e.selectedCount)+" selected")]):e._e(),e.headerButtons.delete?t("action",{attrs:{icon:"delete",label:e.$t("buttons.delete"),show:"delete"}}):e._e()],1):e._e(),e.loading?t("div",[t("h2",{staticClass:"message delayed"},[e._m(0),t("span",[e._v(e._s(e.$t("files.loading")))])])]):[e.req.numDirs+e.req.numFiles==0?t("div",[t("h2",{staticClass:"message"},[t("i",{staticClass:"material-icons"},[e._v("sentiment_dissatisfied")]),t("span",[e._v(e._s(e.$t("files.lonely")))])]),t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"upload-input",multiple:""},on:{change:function(t){return e.uploadInput(t)}}}),t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"upload-folder-input",webkitdirectory:"",multiple:""},on:{change:function(t){return e.uploadInput(t)}}})]):t("div",{ref:"listing",class:e.user.viewMode+" file-icons",attrs:{id:"listing"}},[t("div",[t("div",{staticClass:"item header"},[t("div"),t("div",[t("p",{staticClass:"name",class:{active:e.nameSorted},attrs:{role:"button",tabindex:"0",title:e.$t("files.sortByName"),"aria-label":e.$t("files.sortByName")},on:{click:function(t){return e.sort("name")}}},[t("span",[e._v(e._s(e.$t("files.name")))]),t("i",{staticClass:"material-icons"},[e._v(e._s(e.nameIcon))])]),t("p",{staticClass:"size",class:{active:e.sizeSorted},attrs:{role:"button",tabindex:"0",title:e.$t("files.sortBySize"),"aria-label":e.$t("files.sortBySize")},on:{click:function(t){return e.sort("size")}}},[t("span",[e._v(e._s(e.$t("files.size")))]),t("i",{staticClass:"material-icons"},[e._v(e._s(e.sizeIcon))])]),t("p",{staticClass:"modified",class:{active:e.modifiedSorted},attrs:{role:"button",tabindex:"0",title:e.$t("files.sortByLastModified"),"aria-label":e.$t("files.sortByLastModified")},on:{click:function(t){return e.sort("modified")}}},[t("span",[e._v(e._s(e.$t("files.lastModified")))]),t("i",{staticClass:"material-icons"},[e._v(e._s(e.modifiedIcon))])])])])]),e.req.numDirs>0?t("h2",[e._v(e._s(e.$t("files.folders")))]):e._e(),e.req.numDirs>0?t("div",e._l(e.dirs,(function(s){return t("item",{key:e.base64(s.name),attrs:{index:s.index,name:s.name,isDir:s.isDir,url:s.url,modified:s.modified,type:s.type,size:s.size,path:s.path}})})),1):e._e(),e.req.numFiles>0?t("h2",[e._v(e._s(e.$t("files.files")))]):e._e(),e.req.numFiles>0?t("div",e._l(e.files,(function(s){return t("item",{key:e.base64(s.name),attrs:{index:s.index,name:s.name,isDir:s.isDir,url:s.url,modified:s.modified,type:s.type,size:s.size,path:s.path}})})),1):e._e(),t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"upload-input",multiple:""},on:{change:function(t){return e.uploadInput(t)}}}),t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"upload-folder-input",webkitdirectory:"",multiple:""},on:{change:function(t){return e.uploadInput(t)}}}),t("div",{class:{active:e.$store.state.multiple},attrs:{id:"multiple-selection"}},[t("p",[e._v(e._s(e.$t("files.multipleSelectionEnabled")))]),t("div",{staticClass:"action",attrs:{tabindex:"0",role:"button",title:e.$t("files.clear"),"aria-label":e.$t("files.clear")},on:{click:function(t){return e.$store.commit("multiple",!1)}}},[t("i",{staticClass:"material-icons"},[e._v("clear")])])])])]],2)},it=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"spinner"},[t("div",{staticClass:"bounce1"}),t("div",{staticClass:"bounce2"}),t("div",{staticClass:"bounce3"})])}];s(2801);function ot(e){for(let i=0;i<e.length;i++)e[i]=e[i].toLowerCase();let t=null,s=Array.prototype.find;return s.call(document.styleSheets,(i=>(t=s.call(i.cssRules,(t=>{let s=!1;if(t instanceof window.CSSStyleRule)for(let i=0;i<e.length;i++)t.selectorText.toLowerCase()===e[i]&&(s=!0);return s})),null!=t))),t}function nt(e,t){"undefined"!==typeof t&&null!==t||(t=[]);let s=void 0!==e[0].fullPath,i=!1;for(let o=0;o<e.length;o++){let n=e[o],r=n.name;if(s){let e=n.fullPath.split("/");e.length>1&&(r=e[0])}let a=t.findIndex((function(e){return e.name===this}),r);if(a>=0){i=!0;break}}return i}function rt(e){return new Promise((t=>{let s=0;const i=[];if(void 0!==e.items){for(let r of e.items)if("file"===r.kind&&"function"===typeof r.webkitGetAsEntry){const e=r.webkitGetAsEntry();o(e)}}else t(e.files);function o(e,o=""){if(e.isFile)s++,e.file((e=>{s--,e.fullPath=`${o}${e.name}`,i.push(e),0===s&&t(i)}));else if(e.isDirectory){const t={isDir:!0,size:0,fullPath:`${o}${e.name}`,name:e.name};i.push(t),n(e.createReader(),`${o}${e.name}`)}}function n(e,r){s++,e.readEntries((function(a){if(s--,a.length>0){for(const e of a)o(e,`${r}/`);n(e,`${r}/`)}0===s&&t(i)}))}}))}function at(e){return e.startsWith("video")?"video":e.startsWith("audio")?"audio":e.startsWith("image")?"image":e.startsWith("pdf")?"pdf":e.startsWith("text")?"text":"blob"}function lt(e,t,s=!1){for(let i=0;i<e.length;i++){let o=De.state.upload.id,n=t,r=e[i];void 0!==r.fullPath?n+=Z.encodePath(r.fullPath):n+=Z.encodeRFC5987ValueChars(r.name),r.isDir&&(n+="/");const a={id:o,path:n,file:r,overwrite:s,...!r.isDir&&{type:at(r.type)}};De.dispatch("upload/upload",a)}}var ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"item",attrs:{role:"button",tabindex:"0","data-dir":e.isDir,"data-type":e.type,"aria-label":e.name,"aria-selected":e.isSelected},on:{click:e.itemClick}},[t("div",[void 0==e.readOnly&&"image"===e.type&&e.isThumbsEnabled?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.thumbnailUrl,expression:"thumbnailUrl"}]}):t("i",{staticClass:"material-icons"})]),t("div",[t("p",{staticClass:"name"},[e._v(e._s(e.name))]),e.isDir?t("p",{staticClass:"size",attrs:{"data-order":"-1"}},[e._v("—")]):t("p",{staticClass:"size",attrs:{"data-order":e.humanSize()}},[e._v(e._s(e.humanSize()))]),t("p",{staticClass:"modified"},[t("time",{attrs:{datetime:e.modified}},[e._v(e._s(e.humanTime()))])])])])},ut=[],dt={name:"item",data:function(){return{touches:0}},props:["name","isDir","url","type","size","modified","index","readOnly","path"],computed:{...(0,y.rn)(["user","selected","req","jwt"]),...(0,y.Se)(["selectedCount"]),singleClick(){return void 0==this.readOnly&&this.user.singleClick},isSelected(){return-1!==this.selected.indexOf(this.index)},isDraggable(){return void 0==this.readOnly&&this.user.perm.rename},canDrop(){if(!this.isDir||void 0!==this.readOnly)return!1;for(let e of this.selected)if(this.req.items[e].url===this.url)return!1;return!0},thumbnailUrl(){const e={path:this.path,modified:this.modified};return oe(e,"thumb")},isThumbsEnabled(){return H}},methods:{...(0,y.OI)(["addSelected","removeSelected","resetSelected"]),humanSize:function(){return"invalid_link"==this.type?"invalid link":this.formatBytes(this.size)},formatBytes:function(e,t=2){if(!+e)return"0 Bytes";const s=1024,i=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(s));return`${parseFloat((e/Math.pow(s,n)).toFixed(i))} ${o[n]}`},humanTime:function(){return void 0==this.readOnly&&this.user.dateFormat?ke()(this.modified).format("L LT"):ke()(this.modified).fromNow()},dragStart:function(){0!==this.selectedCount?this.isSelected||(this.resetSelected(),this.addSelected(this.index)):this.addSelected(this.index)},dragOver:function(e){if(!this.canDrop)return;e.preventDefault();let t=e.target;for(let s=0;s<5;s++)t.classList.contains("item")||(t=t.parentElement);t.style.opacity=1},drop:async function(e){if(!this.canDrop)return;if(e.preventDefault(),0===this.selectedCount)return;let t=e.target;for(let c=0;c<5;c++)null===t||t.classList.contains("item")||(t=t.parentElement);let s=[];for(let c of this.selected)s.push({from:this.req.items[c].url,to:this.url+encodeURIComponent(this.req.items[c].name),name:this.req.items[c].name});let i=t.__vue__.url,o=(await V(i)).items,n=(e,t)=>{te(s,e,t).then((()=>{this.$store.commit("setReload",!0)})).catch(this.$showError)},r=nt(s,o),a=!1,l=!1;r?this.$store.commit("showHover",{prompt:"replace-rename",confirm:(e,t)=>{a="overwrite"==t,l="rename"==t,e.preventDefault(),this.$store.commit("closeHovers"),n(a,l)}}):n(a,l)},itemClick:function(e){this.singleClick&&!this.$store.state.multiple?this.open():this.click(e)},click:function(e){if(this.singleClick||0===this.selectedCount||e.preventDefault(),setTimeout((()=>{this.touches=0}),300),this.touches++,this.touches>1&&this.open(),-1===this.$store.state.selected.indexOf(this.index))if(e.shiftKey&&this.selected.length>0){let e=0,t=0;for(this.index>this.selected[0]?(e=this.selected[0]+1,t=this.index):(e=this.index,t=this.selected[0]-1);e<=t;e++)-1==this.$store.state.selected.indexOf(e)&&this.addSelected(e)}else this.singleClick||e.ctrlKey||e.metaKey||this.$store.state.multiple||this.resetSelected(),this.addSelected(this.index);else this.removeSelected(this.index)},open:function(){this.$router.push({path:this.url})}}},ht=dt,mt=(0,a.Z)(ht,ct,ut,!1,null,null,null),pt=mt.exports,ft={name:"listing",components:{HeaderBar:Oe,Action:Re,Item:pt},data:function(){return{showLimit:50,columnWidth:280,dragCounter:0,width:window.innerWidth,itemWeight:0}},computed:{...(0,y.rn)(["req","selected","user","show","multiple","selected","loading"]),...(0,y.Se)(["selectedCount"]),nameSorted(){return"name"===this.req.sorting.by},sizeSorted(){return"size"===this.req.sorting.by},modifiedSorted(){return"modified"===this.req.sorting.by},ascOrdered(){return this.req.sorting.asc},items(){const e=[],t=[];return this.req.items.forEach((s=>{s.isDir?e.push(s):t.push(s)})),{dirs:e,files:t}},dirs(){return this.items.dirs.slice(0,this.showLimit)},files(){let e=this.showLimit-this.items.dirs.length;return e<0&&(e=0),this.items.files.slice(0,e)},nameIcon(){return this.nameSorted&&!this.ascOrdered?"arrow_upward":"arrow_downward"},sizeIcon(){return this.sizeSorted&&this.ascOrdered?"arrow_downward":"arrow_upward"},modifiedIcon(){return this.modifiedSorted&&this.ascOrdered?"arrow_downward":"arrow_upward"},viewIcon(){const e={list:"view_module",mosaic:"grid_view","mosaic gallery":"view_list"};return e[this.user.viewMode]},headerButtons(){return{upload:this.user.perm.create,download:this.user.perm.download,shell:this.user.perm.execute&&F,delete:this.selectedCount>0&&this.user.perm.delete,rename:1===this.selectedCount&&this.user.perm.rename,share:1===this.selectedCount&&this.user.perm.share,move:this.selectedCount>0&&this.user.perm.rename,copy:this.selectedCount>0&&this.user.perm.create}},isMobile(){return this.width<=736}},watch:{req:function(){this.showLimit=50,u.ZP.nextTick((()=>{this.setItemWeight(),this.fillWindow(!0)}))}},mounted:function(){this.colunmsResize(),this.setItemWeight(),this.fillWindow(!0),window.addEventListener("keydown",this.keyEvent),window.addEventListener("scroll",this.scrollEvent),window.addEventListener("resize",this.windowsResize),this.user.perm.create&&(document.addEventListener("dragover",this.preventDefault),document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave),document.addEventListener("drop",this.drop))},beforeDestroy(){window.removeEventListener("keydown",this.keyEvent),window.removeEventListener("scroll",this.scrollEvent),window.removeEventListener("resize",this.windowsResize),this.user&&!this.user.perm.create||(document.removeEventListener("dragover",this.preventDefault),document.removeEventListener("dragenter",this.dragEnter),document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("drop",this.drop))},methods:{...(0,y.OI)(["updateUser","addSelected"]),base64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},keyEvent(e){if(null!==this.show)return;if(27===e.keyCode&&this.$store.commit("resetSelected"),46===e.keyCode){if(!this.user.perm.delete||0==this.selectedCount)return;this.$store.commit("showHover","delete")}if(113===e.keyCode){if(!this.user.perm.rename||1!==this.selectedCount)return;this.$store.commit("showHover","rename")}if(!e.ctrlKey&&!e.metaKey)return;let t=String.fromCharCode(e.which).toLowerCase();switch(t){case"f":e.preventDefault(),this.$store.commit("showHover","search");break;case"c":case"x":this.copyCut(e,t);break;case"v":this.paste(e);break;case"a":e.preventDefault();for(let e of this.items.files)-1===this.$store.state.selected.indexOf(e.index)&&this.addSelected(e.index);for(let e of this.items.dirs)-1===this.$store.state.selected.indexOf(e.index)&&this.addSelected(e.index);break;case"s":e.preventDefault(),document.getElementById("download-button").click();break}},preventDefault(e){e.preventDefault()},copyCut(e,t){if("input"===e.target.tagName.toLowerCase())return;let s=[];for(let i of this.selected)s.push({from:this.req.items[i].url,name:this.req.items[i].name});0!=s.length&&this.$store.commit("updateClipboard",{key:t,items:s,path:this.$route.path})},paste(e){if("input"===e.target.tagName.toLowerCase())return;let t=[];for(let r of this.$store.state.clipboard.items){const e=r.from.endsWith("/")?r.from.slice(0,-1):r.from,s=this.$route.path+encodeURIComponent(r.name);t.push({from:e,to:s,name:r.name})}if(0===t.length)return;let s=(e,s)=>{se(t,e,s).then((()=>{this.$store.commit("setReload",!0)})).catch(this.$showError)};if("x"===this.$store.state.clipboard.key&&(s=(e,s)=>{te(t,e,s).then((()=>{this.$store.commit("resetClipboard"),this.$store.commit("setReload",!0)})).catch(this.$showError)}),this.$store.state.clipboard.path==this.$route.path)return void s(!1,!0);let i=nt(t,this.req.items),o=!1,n=!1;i?this.$store.commit("showHover",{prompt:"replace-rename",confirm:(e,t)=>{o="overwrite"==t,n="rename"==t,e.preventDefault(),this.$store.commit("closeHovers"),s(o,n)}}):s(o,n)},colunmsResize(){let e=Math.floor(document.querySelector("main").offsetWidth/this.columnWidth),t=ot(["#listing.mosaic .item",".mosaic#listing .item"]);0===e&&(e=1),t.style.width=`calc(${100/e}% - 1em)`},scrollEvent:he()((function(){const e=this.req.numDirs+this.req.numFiles;if(this.showLimit>=e)return;const t=window.innerHeight+window.scrollY,s=document.body.offsetHeight-.25*window.innerHeight;if(t>s){const e=Math.ceil(2*window.innerHeight/this.itemWeight);this.showLimit+=e}}),100),dragEnter(){this.dragCounter++;let e=document.getElementsByClassName("item");Array.from(e).forEach((e=>{e.style.opacity=.5}))},dragLeave(){this.dragCounter--,0==this.dragCounter&&this.resetOpacity()},drop:async function(e){e.preventDefault(),this.dragCounter=0,this.resetOpacity();let t=e.dataTransfer,s=e.target;if(t.files.length<=0)return;for(let l=0;l<5;l++)null===s||s.classList.contains("item")||(s=s.parentElement);let i=await rt(t),o=this.req.items,n=this.$route.path.endsWith("/")?this.$route.path:this.$route.path+"/";if(null!==s&&s.classList.contains("item")&&"true"===s.dataset.dir){n=s.__vue__.url;try{o=(await V(n)).items}catch(a){this.$showError(a)}}let r=nt(i,o);r?this.$store.commit("showHover",{prompt:"replace",confirm:e=>{e.preventDefault(),this.$store.commit("closeHovers"),lt(i,n,!0)}}):lt(i,n)},uploadInput(e){this.$store.commit("closeHovers");let t=e.currentTarget.files,s=void 0!==t[0].webkitRelativePath&&""!==t[0].webkitRelativePath;if(s)for(let n=0;n<t.length;n++){let e=t[n];t[n].fullPath=e.webkitRelativePath}let i=this.$route.path.endsWith("/")?this.$route.path:this.$route.path+"/",o=nt(t,this.req.items);o?this.$store.commit("showHover",{prompt:"replace",confirm:e=>{e.preventDefault(),this.$store.commit("closeHovers"),lt(t,i,!0)}}):lt(t,i)},resetOpacity(){let e=document.getElementsByClassName("item");Array.from(e).forEach((e=>{e.style.opacity=1}))},async sort(e){let t=!1;"name"===e?"arrow_upward"===this.nameIcon&&(t=!0):"size"===e?"arrow_upward"===this.sizeIcon&&(t=!0):"modified"===e&&"arrow_upward"===this.modifiedIcon&&(t=!0);try{await ue({id:this.user.id,sorting:{by:e,asc:t}},["sorting"])}catch(s){this.$showError(s)}this.$store.commit("setReload",!0)},openSearch(){this.$store.commit("showHover","search")},toggleMultipleSelection(){this.$store.commit("multiple",!this.multiple),this.$store.commit("closeHovers")},windowsResize:he()((function(){this.colunmsResize(),this.width=window.innerWidth,null!=this.$refs.listing&&(this.setItemWeight(),this.fillWindow())}),100),download(){1!==this.selectedCount||this.req.items[this.selected[0]].isDir?this.$store.commit("showHover",{prompt:"download",confirm:e=>{this.$store.commit("closeHovers");let t=[];if(this.selectedCount>0)for(let s of this.selected)t.push(this.req.items[s].url);else t.push(this.$route.path);X(e,...t)}}):X(null,this.req.items[this.selected[0]].url)},switchView:async function(){this.$store.commit("closeHovers");const e={list:"mosaic",mosaic:"mosaic gallery","mosaic gallery":"list"},t={viewMode:e[this.user.viewMode]||"list"};await this.$store.commit("updateUser",t),this.setItemWeight(),this.fillWindow()},upload:function(){"undefined"!==typeof window.DataTransferItem&&"undefined"!==typeof DataTransferItem.prototype.webkitGetAsEntry?this.$store.commit("showHover","upload"):document.getElementById("upload-input").click()},setItemWeight(){if(null==this.$refs.listing)return;let e=this.req.numDirs+this.req.numFiles;e>this.showLimit&&(e=this.showLimit),this.itemWeight=this.$refs.listing.offsetHeight/e},fillWindow(e=!1){const t=this.req.numDirs+this.req.numFiles;if(this.showLimit>=t&&!e)return;const s=window.innerHeight,i=Math.ceil((s+2*s)/this.itemWeight);this.showLimit>i&&!e||(this.showLimit=i>t?t:i)}}},vt=ft,wt=(0,a.Z)(vt,st,it,!1,null,null,null),gt=wt.exports;function bt(e){return e.endsWith("/")?e.slice(0,-1):e}var yt={name:"files",components:{HeaderBar:Oe,Breadcrumbs:tt,Errors:Je,Listing:gt},data:function(){return{error:null,width:window.innerWidth}},computed:{...(0,y.rn)(["req","reload","loading","show"]),currentView(){return void 0==this.req.type?null:this.req.isDir?"listing":"text"===this.req.type||"textImmutable"===this.req.type?"editor":"preview"}},created(){this.fetchData()},watch:{$route:"fetchData",reload:function(e){!0===e&&this.fetchData()}},mounted(){window.addEventListener("keydown",this.keyEvent)},beforeDestroy(){window.removeEventListener("keydown",this.keyEvent)},destroyed(){this.$store.commit("updateRequest",{})},methods:{...(0,y.OI)(["setLoading"]),async fetchData(){this.$store.commit("setReload",!1),this.$store.commit("resetSelected"),this.$store.commit("multiple",!1),this.$store.commit("closeHovers"),this.setLoading(!0),this.error=null;let e=this.$route.path;""===e&&(e="/"),"/"!==e[0]&&(e="/"+e);try{const t=await V(e);if(bt(t.path)!==bt(`/${this.$route.params.pathMatch}`))return;this.$store.commit("updateRequest",t),document.title=`${t.name} - ${document.title}`}catch(t){this.error=t}finally{this.setLoading(!1)}},keyEvent(e){112===e.keyCode&&(e.preventDefault(),this.$store.commit("showHover","help"))}}},_t=yt,$t=(0,a.Z)(_t,Ge,Ve,!1,null,null,null),Ct=$t.exports,kt=function(){var e=this,t=e._self._c;return t("div",[e.progress?t("div",{staticClass:"progress"},[t("div",{style:{width:this.progress+"%"}})]):e._e(),t("sidebar"),t("main",[t("router-view")],1),t("prompts")],1)},St=[],jt=function(){var e=this,t=e._self._c;return t("nav",{class:{active:e.active}},[[t("button",{staticClass:"action",attrs:{"aria-label":e.$t("sidebar.myFiles"),title:e.$t("sidebar.myFiles")},on:{click:e.toRoot}},[t("i",{staticClass:"material-icons"},[e._v("folder")]),t("span",[e._v("根目录")])]),t("div",[t("button",{staticClass:"action",attrs:{"aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder")},on:{click:function(t){return e.$store.commit("showHover","newDir")}}},[t("i",{staticClass:"material-icons"},[e._v("create_new_folder")]),t("span",[e._v(e._s(e.$t("sidebar.newFolder")))])])])],e.$router.currentRoute.path.includes("/files/")?t("div",{staticClass:"credits",staticStyle:{width:"90%",margin:"2em 2.5em 3em 2.5em"}},[t("progress-bar",{attrs:{val:e.usage.usedPercentage,size:"small"}}),t("br"),e._v(" "+e._s(e.usage.used)+" of "+e._s(e.usage.total)+" used ")],1):e._e()],2)},xt=[],Dt=s(8217),Lt=s(9002),Et=s.n(Lt),Mt={name:"sidebar",components:{ProgressBar:Et()},computed:{...(0,y.rn)(["user"]),active(){return"sidebar"===this.$store.state.show},signup:()=>D,version:()=>L,disableExternal:()=>k,canLogout:()=>!M&&P},asyncComputed:{usage:{async get(){let e=this.$route.path.endsWith("/")?this.$route.path:this.$route.path+"/",t={used:0,total:0,usedPercentage:0};try{let s=await ne(e);t={used:(0,Dt.Z)(s.used,{binary:!0}),total:(0,Dt.Z)(s.total,{binary:!0}),usedPercentage:Math.round(s.used/s.total*100)}}catch(s){this.$showError(s)}return t},default:{used:"0 B",total:"0 B",usedPercentage:0},shouldUpdate(){return this.$router.currentRoute.path.includes("/files/")}}},methods:{toRoot(){this.$router.push({path:"/files/"},(()=>{})),this.$store.commit("closeHovers")},toSettings(){this.$router.push({path:"/settings"},(()=>{})),this.$store.commit("closeHovers")},help(){this.$store.commit("showHover","help")}}},Pt=Mt,Ht=(0,a.Z)(Pt,jt,xt,!1,null,null,null),Ft=Ht.exports,Tt=function(){var e=this,t=e._self._c;return t("div",[t(e.currentComponent,{ref:"currentComponent",tag:"component"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showOverlay,expression:"showOverlay"}],staticClass:"overlay",on:{click:e.resetPrompts}})],1)},zt=[],qt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.copy")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.copyMessage")))]),t("file-list",{on:{"update:selected":t=>e.dest=t}})],1),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat",attrs:{"aria-label":e.$t("buttons.copy"),title:e.$t("buttons.copy")},on:{click:e.copy}},[e._v(" "+e._s(e.$t("buttons.copy"))+" ")])])])},Rt=[],It=function(){var e=this,t=e._self._c;return t("div",[t("ul",{staticClass:"file-list"},e._l(e.items,(function(s){return t("li",{key:s.name,attrs:{role:"button",tabindex:"0","aria-label":s.name,"aria-selected":e.selected==s.url,"data-url":s.url},on:{click:e.itemClick,touchstart:e.touchstart,dblclick:e.next}},[e._v(" "+e._s(s.name)+" ")])})),0),t("p",[e._v(" "+e._s(e.$t("prompts.currentlyNavigating"))+" "),t("code",[e._v(e._s(e.nav))]),e._v(". ")])])},Ut=[],Nt={name:"file-list",data:function(){return{items:[],touches:{id:"",count:0},selected:null,current:window.location.pathname}},computed:{...(0,y.rn)(["req","user"]),nav(){return decodeURIComponent(this.current)}},mounted(){this.fillOptions(this.req)},methods:{fillOptions(e){if(this.current=e.url,this.items=[],this.$emit("update:selected",this.current),"/files/"!==e.url&&this.items.push({name:"..",url:Z.removeLastDir(e.url)+"/"}),null!==e.items)for(let t of e.items)t.isDir&&this.items.push({name:t.name,url:t.url})},next:function(e){let t=e.currentTarget.dataset.url;V(t).then(this.fillOptions).catch(this.$showError)},touchstart(e){let t=e.currentTarget.dataset.url;if(setTimeout((()=>{this.touches.count=0}),300),this.touches.id!==t)return this.touches.id=t,void(this.touches.count=1);this.touches.count++,this.touches.count>1&&this.next(e)},itemClick:function(e){this.user.singleClick?this.next(e):this.select(e)},select:function(e){if(this.selected===e.currentTarget.dataset.url)return this.selected=null,void this.$emit("update:selected",this.current);this.selected=e.currentTarget.dataset.url,this.$emit("update:selected",this.selected)}}},Ot=Nt,Bt=(0,a.Z)(Ot,It,Ut,!1,null,null,null),Zt=Bt.exports,Wt={name:"copy",components:{FileList:Zt},data:function(){return{current:window.location.pathname,dest:null}},computed:(0,y.rn)(["req","selected"]),methods:{copy:async function(e){e.preventDefault();let t=[];for(let a of this.selected)t.push({from:this.req.items[a].url,to:this.dest+encodeURIComponent(this.req.items[a].name),name:this.req.items[a].name});let s=async(e,s)=>{ve.loading("copy"),await se(t,e,s).then((()=>{ve.success("copy"),this.$route.path!==this.dest?this.$router.push({path:this.dest}):this.$store.commit("setReload",!0)})).catch((e=>{ve.done("copy"),this.$showError(e)}))};if(this.$route.path===this.dest)return this.$store.commit("closeHovers"),void s(!1,!0);let i=(await V(this.dest)).items,o=nt(t,i),n=!1,r=!1;o?this.$store.commit("showHover",{prompt:"replace-rename",confirm:(e,t)=>{n="overwrite"==t,r="rename"==t,e.preventDefault(),this.$store.commit("closeHovers"),s(n,r)}}):s(n,r)}}},At=Wt,Jt=(0,a.Z)(At,qt,Rt,!1,null,null,null),Gt=Jt.exports,Vt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-content"},[1===e.selectedCount?t("p",[e._v(" "+e._s(e.$t("prompts.deleteMessageSingle"))+" ")]):t("p",[e._v(" "+e._s(e.$t("prompts.deleteMessageMultiple",{count:e.selectedCount}))+" ")])]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat button--red",attrs:{"aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete")},on:{click:e.submit}},[e._v(" "+e._s(e.$t("buttons.delete"))+" ")])])])},Yt=[],Kt={name:"delete",computed:{...(0,y.Se)(["isListing","selectedCount"]),...(0,y.rn)(["req","selected","showConfirm"])},methods:{...(0,y.OI)(["closeHovers"]),submit:async function(){ve.loading("delete");try{if(!this.isListing)return await K(this.$route.path),ve.success("delete"),this.showConfirm(),void this.closeHovers();if(this.closeHovers(),0===this.selectedCount)return;let e=[];for(let t of this.selected)e.push(K(this.req.items[t].url));await Promise.all(e),ve.success("delete"),this.$store.commit("setReload",!0)}catch(e){ve.done("delete"),this.$showError(e),this.isListing&&this.$store.commit("setReload",!0)}}}},Xt=Kt,Qt=(0,a.Z)(Xt,Vt,Yt,!1,null,null,null),es=Qt.exports,ts=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating",attrs:{id:"download"}},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.download")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.downloadMessage")))]),e._l(e.formats,(function(s,i){return t("button",{directives:[{name:"focus",rawName:"v-focus"}],key:i,staticClass:"button button--block",on:{click:function(t){return e.showConfirm(i)}}},[e._v(" "+e._s(s)+" ")])}))],2)])},ss=[],is={name:"download",data:function(){return{formats:{zip:"zip"}}},computed:(0,y.rn)(["showConfirm"])},os=is,ns=(0,a.Z)(os,ts,ss,!1,null,null,null),rs=ns.exports,as=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating help"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("help.help")))])]),t("div",{staticClass:"card-content"},[t("ul",[t("li",[t("strong",[e._v("F1")]),e._v(" - "+e._s(e.$t("help.f1")))]),t("li",[t("strong",[e._v("F2")]),e._v(" - "+e._s(e.$t("help.f2")))]),t("li",[t("strong",[e._v("DEL")]),e._v(" - "+e._s(e.$t("help.del")))]),t("li",[t("strong",[e._v("ESC")]),e._v(" - "+e._s(e.$t("help.esc")))]),t("li",[t("strong",[e._v("CTRL + S")]),e._v(" - "+e._s(e.$t("help.ctrl.s")))]),t("li",[t("strong",[e._v("CTRL + F")]),e._v(" - "+e._s(e.$t("help.ctrl.f")))]),t("li",[t("strong",[e._v("CTRL + Click")]),e._v(" - "+e._s(e.$t("help.ctrl.click")))]),t("li",[t("strong",[e._v("Click")]),e._v(" - "+e._s(e.$t("help.click")))]),t("li",[t("strong",[e._v("Double click")]),e._v(" - "+e._s(e.$t("help.doubleClick")))])])]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat",attrs:{type:"submit","aria-label":e.$t("buttons.ok"),title:e.$t("buttons.ok")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.ok"))+" ")])])])},ls=[],cs={name:"help"},us=cs,ds=(0,a.Z)(us,as,ls,!1,null,null,null),hs=ds.exports,ms=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.fileInfo")))])]),t("div",{staticClass:"card-content"},[e.selected.length>1?t("p",[e._v(" "+e._s(e.$t("prompts.filesSelected",{count:e.selected.length}))+" ")]):e._e(),e.selected.length<2?t("p",{staticClass:"break-word"},[t("strong",[e._v(e._s(e.$t("prompts.displayName")))]),e._v(" "+e._s(e.name)+" ")]):e._e(),!e.dir||e.selected.length>1?t("p",[t("strong",[e._v(e._s(e.$t("prompts.size"))+":")]),t("span",{attrs:{id:"content_length"}}),e._v(" "+e._s(e.humanSize)+" ")]):e._e(),e.selected.length<2?t("p",{attrs:{title:e.modTime}},[t("strong",[e._v(e._s(e.$t("prompts.lastModified"))+":")]),e._v(" "+e._s(e.humanTime)+" ")]):e._e(),e.dir&&0===e.selected.length?[t("p",[t("strong",[e._v(e._s(e.$t("prompts.numberFiles"))+":")]),e._v(" "+e._s(e.req.numFiles)+" ")]),t("p",[t("strong",[e._v(e._s(e.$t("prompts.numberDirs"))+":")]),e._v(" "+e._s(e.req.numDirs)+" ")])]:e._e(),e.dir?e._e():[t("p",[t("strong",[e._v("MD5: ")]),t("code",[t("a",{on:{click:function(t){return e.checksum(t,"md5")}}},[e._v(e._s(e.$t("prompts.show")))])])]),t("p",[t("strong",[e._v("SHA1: ")]),t("code",[t("a",{on:{click:function(t){return e.checksum(t,"sha1")}}},[e._v(e._s(e.$t("prompts.show")))])])]),t("p",[t("strong",[e._v("SHA256: ")]),t("code",[t("a",{on:{click:function(t){return e.checksum(t,"sha256")}}},[e._v(e._s(e.$t("prompts.show")))])])]),t("p",[t("strong",[e._v("SHA512: ")]),t("code",[t("a",{on:{click:function(t){return e.checksum(t,"sha512")}}},[e._v(e._s(e.$t("prompts.show")))])])])]],2),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat",attrs:{type:"submit","aria-label":e.$t("buttons.ok"),title:e.$t("buttons.ok")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.ok"))+" ")])])])},ps=[],fs={name:"info",computed:{...(0,y.rn)(["req","selected"]),...(0,y.Se)(["selectedCount","isListing"]),humanSize:function(){if(0===this.selectedCount||!this.isListing)return this.req.size;let e=0;for(let t of this.selected)e+=this.req.items[t].size;return e},humanTime:function(){return 0===this.selectedCount?ke()(this.req.modified).fromNow():ke()(this.req.items[this.selected[0]].modified).fromNow()},modTime:function(){return new Date(Date.parse(this.req.modified)).toLocaleString()},name:function(){return 0===this.selectedCount?this.req.name:this.req.items[this.selected[0]].name},dir:function(){return this.selectedCount>1||(0===this.selectedCount?this.req.isDir:this.req.items[this.selected[0]].isDir)}},methods:{checksum:async function(e,t){let s;e.preventDefault(),s=this.selectedCount?this.req.items[this.selected[0]].url:this.$route.path;try{const i=await ie(s,t);e.target.innerHTML=i}catch(i){this.$showError(i)}}}},vs=fs,ws=(0,a.Z)(vs,ms,ps,!1,null,null,null),gs=ws.exports,bs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.move")))])]),t("div",{staticClass:"card-content"},[t("file-list",{on:{"update:selected":t=>e.dest=t}})],1),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat",attrs:{disabled:e.$route.path===e.dest,"aria-label":e.$t("buttons.move"),title:e.$t("buttons.move")},on:{click:e.move}},[e._v(" "+e._s(e.$t("buttons.move"))+" ")])])])},ys=[],_s={name:"move",components:{FileList:Zt},data:function(){return{current:window.location.pathname,dest:null}},computed:(0,y.rn)(["req","selected"]),methods:{move:async function(e){e.preventDefault();let t=[];for(let a of this.selected)t.push({from:this.req.items[a].url,to:this.dest+encodeURIComponent(this.req.items[a].name),name:this.req.items[a].name});let s=async(e,s)=>{ve.loading("move"),await te(t,e,s).then((()=>{ve.success("move"),this.$router.push({path:this.dest})})).catch((e=>{ve.done("move"),this.$showError(e)}))},i=(await V(this.dest)).items,o=nt(t,i),n=!1,r=!1;o?this.$store.commit("showHover",{prompt:"replace-rename",confirm:(e,t)=>{n="overwrite"==t,r="rename"==t,e.preventDefault(),this.$store.commit("closeHovers"),s(n,r)}}):s(n,r)}}},$s=_s,Cs=(0,a.Z)($s,bs,ys,!1,null,null,null),ks=Cs.exports,Ss=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.newDir")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.newDirMessage")))]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"input input--block",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat",attrs:{"aria-label":e.$t("buttons.create"),title:e.$t("buttons.create")},on:{click:e.submit}},[e._v(" "+e._s(e.$t("buttons.create"))+" ")])])])},js=[],xs={name:"new-dir",data:function(){return{name:""}},computed:{...(0,y.Se)(["isFiles","isListing"])},methods:{submit:async function(e){if(e.preventDefault(),""===this.new)return;let t=this.isFiles?this.$route.path+"/":"/";this.isListing||(t=Z.removeLastDir(t)+"/"),t+=encodeURIComponent(this.name)+"/",t=t.replace("//","/");try{await Q(t),this.$router.push({path:t})}catch(s){this.$showError(s)}this.$store.commit("closeHovers")}}},Ds=xs,Ls=(0,a.Z)(Ds,Ss,js,!1,null,null,null),Es=Ls.exports,Ms=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.newFile")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.newFileMessage")))]),t("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input input--block",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat",attrs:{"aria-label":e.$t("buttons.create"),title:e.$t("buttons.create")},on:{click:e.submit}},[e._v(" "+e._s(e.$t("buttons.create"))+" ")])])])},Ps=[],Hs={name:"new-file",data:function(){return{name:""}},computed:{...(0,y.Se)(["isFiles","isListing"])},methods:{submit:async function(e){if(e.preventDefault(),""===this.new)return;let t=this.isFiles?this.$route.path+"/":"/";this.isListing||(t=Z.removeLastDir(t)+"/"),t+=encodeURIComponent(this.name),t=t.replace("//","/");try{await Q(t),this.$router.push({path:t})}catch(s){this.$showError(s)}this.$store.commit("closeHovers")}}},Fs=Hs,Ts=(0,a.Z)(Fs,Ms,Ps,!1,null,null,null),zs=Ts.exports,qs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.rename")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(" "+e._s(e.$t("prompts.renameMessage"))+" "),t("code",[e._v(e._s(e.oldName()))]),e._v(": ")]),t("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input input--block",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat",attrs:{type:"submit","aria-label":e.$t("buttons.rename"),title:e.$t("buttons.rename")},on:{click:e.submit}},[e._v(" "+e._s(e.$t("buttons.rename"))+" ")])])])},Rs=[],Is={name:"rename",data:function(){return{name:""}},created(){this.name=this.oldName()},computed:{...(0,y.rn)(["req","selected","selectedCount"]),...(0,y.Se)(["isListing"])},methods:{cancel:function(){this.$store.commit("closeHovers")},oldName:function(){return this.isListing?0===this.selectedCount||this.selectedCount>1?void 0:this.req.items[this.selected[0]].name:this.req.name},submit:async function(){let e="",t="";e=this.isListing?this.req.items[this.selected[0]].url:this.req.url,t=Z.removeLastDir(e)+"/"+encodeURIComponent(this.name);try{if(await te([{from:e,to:t}]),!this.isListing)return void this.$router.push({path:t});this.$store.commit("setReload",!0)}catch(s){this.$showError(s)}this.$store.commit("closeHovers")}}},Us=Is,Ns=(0,a.Z)(Us,qs,Rs,!1,null,null,null),Os=Ns.exports,Bs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.replace")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.replaceMessage")))])]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat button--red",attrs:{"aria-label":e.$t("buttons.replace"),title:e.$t("buttons.replace")},on:{click:e.showConfirm}},[e._v(" "+e._s(e.$t("buttons.replace"))+" ")])])])},Zs=[],Ws={name:"replace",computed:(0,y.rn)(["showConfirm"])},As=Ws,Js=(0,a.Z)(As,Bs,Zs,!1,null,null,null),Gs=Js.exports,Vs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.replace")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.replaceMessage")))])]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat button--blue",attrs:{"aria-label":e.$t("buttons.rename"),title:e.$t("buttons.rename")},on:{click:t=>e.showConfirm(t,"rename")}},[e._v(" "+e._s(e.$t("buttons.rename"))+" ")]),t("button",{staticClass:"button button--flat button--red",attrs:{"aria-label":e.$t("buttons.replace"),title:e.$t("buttons.replace")},on:{click:t=>e.showConfirm(t,"overwrite")}},[e._v(" "+e._s(e.$t("buttons.replace"))+" ")])])])},Ys=[],Ks={name:"replace-rename",computed:(0,y.rn)(["showConfirm"])},Xs=Ks,Qs=(0,a.Z)(Xs,Vs,Ys,!1,null,null,null),ei=Qs.exports,ti=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating share__promt__card",attrs:{id:"share"}},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("buttons.share")))])]),e.listing?[t("div",{staticClass:"card-content"},[t("table",[t("tr",[t("th",[e._v("#")]),t("th",[e._v(e._s(e.$t("settings.shareDuration")))]),t("th"),t("th")]),e._l(e.links,(function(s){return t("tr",{key:s.hash},[t("td",[e._v(e._s(s.hash))]),t("td",[0!==s.expire?[e._v(e._s(e.humanTime(s.expire)))]:[e._v(e._s(e.$t("permanent")))]],2),t("td",{staticClass:"small"},[t("button",{staticClass:"action copy-clipboard",attrs:{"data-clipboard-text":e.buildLink(s),"aria-label":e.$t("buttons.copyToClipboard"),title:e.$t("buttons.copyToClipboard")}},[t("i",{staticClass:"material-icons"},[e._v("content_paste")])])]),t("td",{staticClass:"small"},[t("button",{staticClass:"action",attrs:{"aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete")},on:{click:function(t){return e.deleteLink(t,s)}}},[t("i",{staticClass:"material-icons"},[e._v("delete")])])])])}))],2)]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.close"),title:e.$t("buttons.close")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.close"))+" ")]),t("button",{staticClass:"button button--flat button--blue",attrs:{"aria-label":e.$t("buttons.new"),title:e.$t("buttons.new")},on:{click:()=>e.switchListing()}},[e._v(" "+e._s(e.$t("buttons.new"))+" ")])])]:[t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("settings.shareDuration")))]),t("div",{staticClass:"input-group input"},[t("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.time,expression:"time",modifiers:{trim:!0}}],attrs:{type:"number",max:"2147483647",min:"1"},domProps:{value:e.time},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},input:function(t){t.target.composing||(e.time=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.unit,expression:"unit"}],staticClass:"right",attrs:{"aria-label":e.$t("time.unit")},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.unit=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"seconds"}},[e._v(e._s(e.$t("time.seconds")))]),t("option",{attrs:{value:"minutes"}},[e._v(e._s(e.$t("time.minutes")))]),t("option",{attrs:{value:"hours"}},[e._v(e._s(e.$t("time.hours")))]),t("option",{attrs:{value:"days"}},[e._v(e._s(e.$t("time.days")))])])]),t("p",[e._v(e._s(e.$t("prompts.optionalPassword")))]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"input input--block",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:()=>e.switchListing()}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat button--blue",attrs:{"aria-label":e.$t("buttons.share"),title:e.$t("buttons.share")},on:{click:e.submit}},[e._v(" "+e._s(e.$t("buttons.share"))+" ")])])]],2)},si=[],ii=s(8519),oi=s.n(ii),ni={name:"share",data:function(){return{time:"",unit:"hours",links:[],clip:null,password:"",listing:!0}},computed:{...(0,y.rn)(["req","selected","selectedCount"]),...(0,y.Se)(["isListing"]),url(){return this.isListing?0===this.selectedCount||this.selectedCount>1?void 0:this.req.items[this.selected[0]].url:this.$route.path}},async beforeMount(){try{const e=await re(this.url);this.links=e,this.sort(),0==this.links.length&&(this.listing=!1)}catch(e){this.$showError(e)}},mounted(){this.clip=new(oi())(".copy-clipboard"),this.clip.on("success",(()=>{this.$showSuccess(this.$t("success.linkCopied"))}))},beforeDestroy(){this.clip.destroy()},methods:{submit:async function(){let e=!this.time||0==this.time;try{let t=null;t=e?await le(this.url,this.password):await le(this.url,this.password,this.time,this.unit),this.links.push(t),this.sort(),this.time="",this.unit="hours",this.password="",this.listing=!0}catch(t){this.$showError(t)}},deleteLink:async function(e,t){e.preventDefault();try{await ae(t.hash),this.links=this.links.filter((e=>e.hash!==t.hash)),0==this.links.length&&(this.listing=!1)}catch(s){this.$showError(s)}},humanTime(e){return ke()(1e3*e).fromNow()},buildLink(e){return ce(e)},sort(){this.links=this.links.sort(((e,t)=>0===e.expire?-1:0===t.expire?1:new Date(e.expire)-new Date(t.expire)))},switchListing(){0!=this.links.length||this.listing||this.$store.commit("closeHovers"),this.listing=!this.listing}}},ri=ni,ai=(0,a.Z)(ri,ti,si,!1,null,null,null),li=ai.exports,ci=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.deleteMessageShare",{path:""})))])]),t("div",{staticClass:"card-action"},[t("button",{staticClass:"button button--flat button--grey",attrs:{"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},on:{click:function(t){return e.$store.commit("closeHovers")}}},[e._v(" "+e._s(e.$t("buttons.cancel"))+" ")]),t("button",{staticClass:"button button--flat button--red",attrs:{"aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete")},on:{click:e.submit}},[e._v(" "+e._s(e.$t("buttons.delete"))+" ")])])])},ui=[],di={name:"share-delete",computed:{...(0,y.rn)(["showConfirm"])},methods:{submit:function(){this.showConfirm()}}},hi=di,mi=(0,a.Z)(hi,ci,ui,!1,null,null,null),pi=mi.exports,fi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card floating"},[t("div",{staticClass:"card-title"},[t("h2",[e._v(e._s(e.$t("prompts.upload")))])]),t("div",{staticClass:"card-content"},[t("p",[e._v(e._s(e.$t("prompts.uploadMessage")))])]),t("div",{staticClass:"card-action full"},[t("div",{staticClass:"action",on:{click:e.uploadFile}},[t("i",{staticClass:"material-icons"},[e._v("insert_drive_file")]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("buttons.file")))])]),t("div",{staticClass:"action",on:{click:e.uploadFolder}},[t("i",{staticClass:"material-icons"},[e._v("folder")]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("buttons.folder")))])])])])},vi=[],wi={name:"upload",methods:{uploadFile:function(){document.getElementById("upload-input").value="",document.getElementById("upload-input").click()},uploadFolder:function(){document.getElementById("upload-folder-input").value="",document.getElementById("upload-folder-input").click()}}},gi=wi,bi=(0,a.Z)(gi,fi,vi,!1,null,null,null),yi=bi.exports,_i={name:"prompts",components:{Info:gs,Delete:es,Rename:Os,Download:rs,Move:ks,Copy:Gt,Share:li,NewFile:zs,NewDir:Es,Help:hs,Replace:Gs,ReplaceRename:ei,Upload:yi,ShareDelete:pi},data:function(){return{pluginData:{buttons:ve,store:this.$store,router:this.$router}}},created(){window.addEventListener("keydown",(e=>{if(null==this.show)return;let t=this.$refs.currentComponent;if(27===e.keyCode&&(e.stopImmediatePropagation(),this.$store.commit("closeHovers")),13==e.keyCode)switch(this.show){case"delete":t.submit();break;case"copy":t.copy(e);break;case"move":t.move(e);break;case"replace":t.showConfirm(e);break}}))},computed:{...(0,y.rn)(["show","plugins"]),currentComponent:function(){const e=["info","help","delete","rename","move","copy","newFile","newDir","download","replace","replace-rename","share","upload","share-delete"].indexOf(this.show)>=0;return e&&this.show||null},showOverlay:function(){return null!==this.show&&"search"!==this.show&&"more"!==this.show}},methods:{resetPrompts(){this.$store.commit("closeHovers")}}},$i=_i,Ci=(0,a.Z)($i,Tt,zt,!1,null,null,null),ki=Ci.exports,Si={name:"layout",components:{Sidebar:Ft,Prompts:ki},computed:{...(0,y.Se)(["isLogged","progress"]),...(0,y.rn)(["user"])},watch:{$route:function(){this.$store.commit("resetSelected"),this.$store.commit("multiple",!1),"success"!==this.$store.state.show&&this.$store.commit("closeHovers")}}},ji=Si,xi=(0,a.Z)(ji,kt,St,!1,null,null,null),Di=xi.exports,Li=function(){var e=this,t=e._self._c;return t("div",{class:{recaptcha:e.recaptcha},attrs:{id:"login"}},[t("form",{on:{submit:e.submit}},[t("img",{attrs:{src:e.logoURL,alt:"File Browser"}}),t("h1",[e._v(e._s(e.name))]),""!==e.error?t("div",{staticClass:"wrong"},[e._v(e._s(e.error))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],ref:"username",staticClass:"input input--block",attrs:{type:"text",autocapitalize:"off",placeholder:e.$t("login.username")},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input input--block",attrs:{type:"password",placeholder:e.$t("login.password")},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.createMode?t("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirm,expression:"passwordConfirm"}],staticClass:"input input--block",attrs:{type:"password",placeholder:e.$t("login.passwordConfirm")},domProps:{value:e.passwordConfirm},on:{input:function(t){t.target.composing||(e.passwordConfirm=t.target.value)}}}):e._e(),e.recaptcha?t("div",{attrs:{id:"recaptcha"}}):e._e(),t("input",{staticClass:"button button--block",attrs:{type:"submit"},domProps:{value:e.createMode?e.$t("login.signup"):e.$t("login.submit")}}),e.signup?t("p",{on:{click:e.toggleMode}},[e._v(" "+e._s(e.createMode?e.$t("login.loginInstead"):e.$t("login.createAnAccount"))+" ")]):e._e()])])},Ei=[],Mi={name:"login",computed:{signup:()=>D,name:()=>C,logoURL:()=>E},data:function(){return{createMode:!1,error:"",username:"",password:"",recaptcha:j,passwordConfirm:""}},mounted(){this.focusUsername(),j&&window.grecaptcha.ready((function(){window.grecaptcha.render("recaptcha",{sitekey:x})}))},methods:{focusUsername(){this.$refs.username.focus()},toggleMode(){this.createMode=!this.createMode},async submit(e){e.preventDefault(),e.stopPropagation();let t=this.$route.query.redirect;""!==t&&void 0!==t&&null!==t||(t="/files/");let s="";if(j&&(s=window.grecaptcha.getResponse(),""===s))this.error=this.$t("login.wrongCredentials");else if(this.createMode&&this.password!==this.passwordConfirm)this.error=this.$t("login.passwordsDontMatch");else try{this.createMode&&await I(this.username,this.password),await q(this.username,this.password,s),this.$router.push({path:t})}catch(i){409==i.message?this.error=this.$t("login.usernameTaken"):this.error=this.$t("login.wrongCredentials")}}}},Pi=Mi,Hi=(0,a.Z)(Pi,Li,Ei,!1,null,null,null),Fi=Hi.exports,Ti=s(2241);u.ZP.use(Ti.ZP);const zi={Login:"sidebar.login",Share:"buttons.share",Files:"files.files",Settings:"sidebar.settings",ProfileSettings:"settings.profileSettings",Shares:"settings.shareManagement",GlobalSettings:"settings.globalSettings",Users:"settings.users",User:"settings.user",Forbidden:"errors.forbidden",NotFound:"errors.notFound",InternalServerError:"errors.internal"},qi=new Ti.ZP({base:S,mode:"history",routes:[{path:"/login",name:"Login",component:Fi,beforeEnter:(e,t,s)=>{if(De.getters.isLogged)return s({path:"/files"});s()}},{path:"/*",component:Di,children:[{path:"/files/*",name:"Files",component:Ct,meta:{requiresAuth:!1}},{path:"/403",name:"Forbidden",component:Je,props:{errorCode:403,showHeader:!0}},{path:"/404",name:"NotFound",component:Je,props:{errorCode:404,showHeader:!0}},{path:"/500",name:"InternalServerError",component:Je,props:{errorCode:500,showHeader:!0}},{path:"/files",redirect:{path:"/files/"}},{path:"/*",redirect:e=>`/files${e.path}`}]}]});qi.beforeEach(((e,t,s)=>{const i=b.t(zi[e.name]);document.title=i+" - "+C;const o=document.querySelector("body").classList.contains("rtl"),n=w.includes(b.locale);switch(!0){case n&&!o:document.querySelector("body").classList.add("rtl");break;case!n&&o:document.querySelector("body").classList.remove("rtl");break}s()}));var Ri=qi,Ii=(s(541),s(2622)),Ui=s.n(Ii),Ni=s(8302),Oi=s(3682);u.ZP.use(Ni.ZP),u.ZP.use(Oi.Z),u.ZP.config.productionTip=!0;const Bi={type:"info",layout:"bottomRight",timeout:1e3,progressBar:!0};u.ZP.prototype.$noty=e=>{new(Ui())(Object.assign({},Bi,e)).show()},u.ZP.prototype.$showSuccess=e=>{new(Ui())(Object.assign({},Bi,{text:e,type:"success"})).show()},u.ZP.prototype.$showError=(e,t=!0)=>{let s=[Ui().button(b.t("buttons.close"),"",(function(){i.close()}))];!k&&t&&s.unshift(Ui().button(b.t("buttons.reportIssue"),"",(function(){window.open("https://github.com/filebrowser/filebrowser/issues/new/choose")})));let i=new(Ui())(Object.assign({},Bi,{text:e.message||e,type:"error",timeout:null,buttons:s}));i.show()},u.ZP.directive("focus",{inserted:function(e){e.focus()}});var Zi=u.ZP,Wi=s(3234),Ai=s(2616);s(7147);async function Ji(){new Zi({render:e=>e(c),store:De,router:Ri,i18n:b,template:"<App/>",components:{App:c}}).$mount("#app")}(0,Wi.Z)(),(0,Ai.Z)(De,Ri),Ji()},6700:function(e,t,s){var i={"./af":2496,"./af.js":2496,"./ar":186,"./ar-dz":6881,"./ar-dz.js":6881,"./ar-kw":6265,"./ar-kw.js":6265,"./ar-ly":451,"./ar-ly.js":451,"./ar-ma":8625,"./ar-ma.js":8625,"./ar-sa":8819,"./ar-sa.js":8819,"./ar-tn":7092,"./ar-tn.js":7092,"./ar.js":186,"./az":4421,"./az.js":4421,"./be":7067,"./be.js":7067,"./bg":3871,"./bg.js":3871,"./bm":4242,"./bm.js":4242,"./bn":8189,"./bn-bd":2507,"./bn-bd.js":2507,"./bn.js":8189,"./bo":5799,"./bo.js":5799,"./br":7803,"./br.js":7803,"./bs":8434,"./bs.js":8434,"./ca":4581,"./ca.js":4581,"./cs":8004,"./cs.js":8004,"./cv":4464,"./cv.js":4464,"./cy":163,"./cy.js":163,"./da":803,"./da.js":803,"./de":233,"./de-at":7607,"./de-at.js":7607,"./de-ch":6777,"./de-ch.js":6777,"./de.js":233,"./dv":6969,"./dv.js":6969,"./el":9618,"./el.js":9618,"./en-au":9245,"./en-au.js":9245,"./en-ca":5036,"./en-ca.js":5036,"./en-gb":1438,"./en-gb.js":1438,"./en-ie":6053,"./en-ie.js":6053,"./en-il":134,"./en-il.js":134,"./en-in":847,"./en-in.js":847,"./en-nz":1363,"./en-nz.js":1363,"./en-sg":9022,"./en-sg.js":9022,"./eo":8990,"./eo.js":8990,"./es":9817,"./es-do":8155,"./es-do.js":8155,"./es-mx":952,"./es-mx.js":952,"./es-us":9358,"./es-us.js":9358,"./es.js":9817,"./et":5396,"./et.js":5396,"./eu":4338,"./eu.js":4338,"./fa":7030,"./fa.js":7030,"./fi":2292,"./fi.js":2292,"./fil":3578,"./fil.js":3578,"./fo":8900,"./fo.js":8900,"./fr":6067,"./fr-ca":8362,"./fr-ca.js":8362,"./fr-ch":9404,"./fr-ch.js":9404,"./fr.js":6067,"./fy":6742,"./fy.js":6742,"./ga":8152,"./ga.js":8152,"./gd":6920,"./gd.js":6920,"./gl":7234,"./gl.js":7234,"./gom-deva":2759,"./gom-deva.js":2759,"./gom-latn":7054,"./gom-latn.js":7054,"./gu":8166,"./gu.js":8166,"./he":8927,"./he.js":8927,"./hi":2153,"./hi.js":2153,"./hr":9329,"./hr.js":9329,"./hu":2782,"./hu.js":2782,"./hy-am":5023,"./hy-am.js":5023,"./id":6655,"./id.js":6655,"./is":0,"./is.js":0,"./it":5107,"./it-ch":3045,"./it-ch.js":3045,"./it.js":5107,"./ja":9175,"./ja.js":9175,"./jv":4853,"./jv.js":4853,"./ka":8684,"./ka.js":8684,"./kk":312,"./kk.js":312,"./km":1271,"./km.js":1271,"./kn":7256,"./kn.js":7256,"./ko":4833,"./ko.js":4833,"./ku":5258,"./ku.js":5258,"./ky":3430,"./ky.js":3430,"./lb":7665,"./lb.js":7665,"./lo":2238,"./lo.js":2238,"./lt":920,"./lt.js":920,"./lv":8769,"./lv.js":8769,"./me":818,"./me.js":818,"./mi":5722,"./mi.js":5722,"./mk":7117,"./mk.js":7117,"./ml":9904,"./ml.js":9904,"./mn":8590,"./mn.js":8590,"./mr":9544,"./mr.js":9544,"./ms":176,"./ms-my":8850,"./ms-my.js":8850,"./ms.js":176,"./mt":291,"./mt.js":291,"./my":4830,"./my.js":4830,"./nb":4893,"./nb.js":4893,"./ne":8782,"./ne.js":8782,"./nl":8337,"./nl-be":2297,"./nl-be.js":2297,"./nl.js":8337,"./nn":8272,"./nn.js":8272,"./oc-lnc":277,"./oc-lnc.js":277,"./pa-in":6198,"./pa-in.js":6198,"./pl":5231,"./pl.js":5231,"./pt":3141,"./pt-br":9626,"./pt-br.js":9626,"./pt.js":3141,"./ro":2797,"./ro.js":2797,"./ru":48,"./ru.js":48,"./sd":23,"./sd.js":23,"./se":7339,"./se.js":7339,"./si":2851,"./si.js":2851,"./sk":9764,"./sk.js":9764,"./sl":646,"./sl.js":646,"./sq":1751,"./sq.js":1751,"./sr":9016,"./sr-cyrl":1368,"./sr-cyrl.js":1368,"./sr.js":9016,"./ss":1943,"./ss.js":1943,"./sv":5095,"./sv.js":5095,"./sw":6014,"./sw.js":6014,"./ta":1571,"./ta.js":1571,"./te":4819,"./te.js":4819,"./tet":8646,"./tet.js":8646,"./tg":8641,"./tg.js":8641,"./th":5714,"./th.js":5714,"./tk":7082,"./tk.js":7082,"./tl-ph":9830,"./tl-ph.js":9830,"./tlh":8757,"./tlh.js":8757,"./tr":3571,"./tr.js":3571,"./tzl":6785,"./tzl.js":6785,"./tzm":4924,"./tzm-latn":9126,"./tzm-latn.js":9126,"./tzm.js":4924,"./ug-cn":2134,"./ug-cn.js":2134,"./uk":3350,"./uk.js":3350,"./ur":3397,"./ur.js":3397,"./uz":8556,"./uz-latn":3562,"./uz-latn.js":3562,"./uz.js":8556,"./vi":7751,"./vi.js":7751,"./x-pseudo":1505,"./x-pseudo.js":1505,"./yo":5943,"./yo.js":5943,"./zh-cn":4186,"./zh-cn.js":4186,"./zh-hk":2243,"./zh-hk.js":2243,"./zh-mo":5437,"./zh-mo.js":5437,"./zh-tw":3843,"./zh-tw.js":3843};function o(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=n,e.exports=o,o.id=6700}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){var e=[];s.O=function(t,i,o,n){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],o=e[u][1],n=e[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(a=!1,n<r&&(r=n));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,o,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var u=l(s)}for(t&&t(i);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},i=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(6371)}));i=s.O(i)})();
//# sourceMappingURL=app.5820eea9.js.map